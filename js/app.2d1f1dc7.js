(function(t){function e(e){for(var a,r,o=e[0],c=e[1],l=e[2],u=0,h=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&h.push(s[r][0]),s[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(h.length)h.shift()();return n.push.apply(n,l||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],a=!0,r=1;r<i.length;r++){var c=i[r];0!==s[c]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=i[0]))}return t}var a={},s={app:0},n=[];function r(t){return o.p+"js/"+({about:"about"}[t]||t)+"."+{about:"af3707da"}[t]+".js"}function o(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.e=function(t){var e=[],i=s[t];if(0!==i)if(i)e.push(i[2]);else{var a=new Promise((function(e,a){i=s[t]=[e,a]}));e.push(i[2]=a);var n,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=r(t);var l=new Error;n=function(e){c.onerror=c.onload=null,clearTimeout(u);var i=s[t];if(0!==i){if(i){var a=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+n+")",l.name="ChunkLoadError",l.type=a,l.request=n,i[1](l)}s[t]=void 0}};var u=setTimeout((function(){n({type:"timeout",target:c})}),12e4);c.onerror=c.onload=n,document.head.appendChild(c)}return Promise.all(e)},o.m=t,o.c=a,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(i,a,function(e){return t[e]}.bind(null,a));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;n.push([1,"chunk-vendors"]),i()})({0:function(t,e){},"034f":function(t,e,i){"use strict";var a=i("85ec"),s=i.n(a);s.a},"091f":function(t,e,i){"use strict";var a=i("0ac5"),s=i.n(a);s.a},"0ac5":function(t,e,i){},"0ed4":function(t,e,i){},1:function(t,e,i){t.exports=i("56d7")},1754:function(t,e,i){"use strict";var a=i("80ef"),s=i.n(a);s.a},"1bcd":function(t,e,i){"use strict";var a=i("d73b"),s=i.n(a);s.a},"1d07":function(t,e,i){"use strict";var a=i("afae"),s=i.n(a);s.a},2:function(t,e){},3:function(t,e){},"4cc5":function(t,e,i){"use strict";var a=i("ec88"),s=i.n(a);s.a},"4ecc":function(t,e,i){"use strict";var a=i("d7db"),s=i.n(a);s.a},"538f":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("d3b7"),i("e260"),i("e6cf"),i("cca6"),i("a79d");var a,s=i("2b0e"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("navbar",{attrs:{id:"nav"}}),i("b-overlay",{attrs:{show:t.show,"no-wrap":""},scopedSlots:t._u([{key:"overlay",fn:function(){return[i("div",{staticClass:"text-center"},[i("b-icon",{attrs:{icon:"exclamation-circle-fill",variant:"danger","font-scale":"2"}}),i("p",{attrs:{id:"cancel-label"}},[t._v("waiting for network ...")])],1)]},proxy:!0}])}),i("router-view",{key:t.$route.path})],1)},r=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-navbar",{staticClass:"p-2 shadow fixed-top dark",attrs:{toggleable:"lg",type:"dark"}},[a("b-navbar-brand",{attrs:{href:"#"}},[a("img",{staticClass:"d-inline-block align-top",attrs:{width:"200",src:"/logo/Certifis Logo Final-01.png",alt:"Kitten"}})]),a("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",[t.IsLoggedIn?t._e():a("b-nav-item",{attrs:{href:"#",to:"/"}},[t._v("Home")]),t.IsLoggedIn?a("b-nav-item",{attrs:{href:"#",to:"/dashboard"}},[t._v("DashBoard")]):t._e(),t.IsLoggedIn?a("b-nav-item",{attrs:{href:"#",to:"/create"}},[t._v("Create")]):t._e(),t.IsLoggedIn&&t.Authorization.SuperAdmin?a("b-nav-item",{attrs:{to:"/organizations"}},[t._v("Organizations")]):t._e(),t.IsLoggedIn?a("b-nav-item",{attrs:{href:"#",to:"/certificates"}},[t._v("Certificates")]):t._e(),t.IsLoggedIn?a("b-nav-item",{attrs:{href:"#",to:"/publications"}},[t._v("Publications")]):t._e(),a("b-nav-item",{attrs:{href:"#",to:"/verification"}},[t._v("Verify Certificate")]),a("b-nav-item",{attrs:{href:"#",to:"/about"}},[t._v("About")])],1),a("b-navbar-nav",{staticClass:"ml-auto",attrs:{href:"#"}},[t.IsLoggedIn?t._e():a("b-nav-item",{attrs:{href:"#",to:"/login"}},[t._v("Login")]),t.IsLoggedIn?a("notification"):t._e(),t.IsLoggedIn?a("b-nav-item-dropdown",{attrs:{right:"","no-caret":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("span",{staticClass:"mr-1"},[t._v(t._s(t.user.Name))]),a("img",{attrs:{src:i("cd26"),width:"30",alt:""}})]},proxy:!0}],null,!1,3273796331)},[a("b-dropdown-item",{attrs:{href:"#"}},[t._v("Name: "+t._s(t.user.name))]),a("b-dropdown-item",{attrs:{href:"#"}},[t._v("Email: "+t._s(t.user.email))]),a("b-dropdown-item",{attrs:{href:"#"}},[t._v("Org: "+t._s(t.user.organization.name))]),a("b-dropdown-divider"),a("b-dropdown-item",{attrs:{href:"#"}},[t._v("Profile")]),t.Authorization.SuperAdmin||t.Authorization.Admin?a("b-dropdown-item",{on:{click:t.config}},[t._v("Config")]):t._e(),a("b-dropdown-item",{attrs:{href:"#"},on:{click:t.signout}},[t._v("Sign Out")])],1):t._e()],1)],1)],1)],1)},c=[],l=i("5530"),u=(i("f9e3"),i("2dd8"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-nav-item-dropdown",{attrs:{size:"lg",variant:"link","toggle-class":"text-decoration-none","no-caret":"",right:"","menu-class":"myDropdown"},scopedSlots:t._u([{key:"button-content",fn:function(){return[i("b-avatar",{attrs:{badge:"7",variant:"wb","badge-variant":"danger"},scopedSlots:t._u([{key:"default",fn:function(){return[i("b-icon",{attrs:{icon:"bell-fill",variant:"white"}})]},proxy:!0}])})]},proxy:!0}])},t._l([1,2,3,4,5,6,8,9,10,11],(function(e){return i("b-dropdown-item",{key:e},[i("b-card",{staticClass:"text-center",attrs:{header:"Default"}},[i("b-card-text",[t._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit.")])],1)],1)})),1),i("b-modal",{attrs:{id:"modal-tall",title:"Overflowing Content"}},t._l([1,2,3,4,5,6,8,9,10,11],(function(e){return i("b-card",{key:e,staticClass:"text-center",attrs:{header:"Default"}},[i("b-card-text",[t._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit.")])],1)})),1)],1)}),d=[],h={name:"Notification"},m=h,f=(i("efef"),i("2877")),p=Object(f["a"])(m,u,d,!1,null,null,null),g=p.exports,v=i("2f62"),_={name:"navbar",computed:Object(l["a"])(Object(l["a"])({},Object(v["b"])("user_state",["IsLoggedIn"])),Object(v["c"])("user_state",["user","Authorization"])),methods:{signout:function(){var t=this;this.$store.dispatch("user_state/signout").then((function(){t.$router.push("/")}))},config:function(){this.$router.push("/organization/config/")}},components:{notification:g}},b=_,C=(i("d302"),i("1754"),Object(f["a"])(b,o,c,!1,null,"b7af6ec8",null)),y=C.exports,w={components:{navbar:y},methods:{connection:function(){this.show=!navigator.onLine}},computed:Object(v["c"])(["NewMessage"]),watch:{NewMessage:function(t){this.$bvToast.toast(t,{title:"Notification",toaster:"b-toaster-bottom-right",variant:"default",solid:!0})}},data:function(){return{show:!1}},mounted:function(){window.addEventListener("online",this.connection),window.addEventListener("offline",this.connection)}},x=w,$=(i("034f"),Object(f["a"])(x,n,r,!1,null,null,null)),k=$.exports,S=(i("45fc"),i("b0c0"),i("8c4f")),P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("home")],1)},A=[],O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"margin-top":"90px",overflow:"hidden","background-image":"url(/Home/background.png)","background-attachment":"fixed"}},[i("div",{staticClass:"row",staticStyle:{"align-items":"center"}},[t._m(0),i("div",{staticClass:"col-lg-6 col-md-6 col-sm-6"},[i("h1",{staticClass:"service-title",staticStyle:{"text-align":"left"}},[i("textra",{attrs:{data:t.words,timer:2.1,filter:"right-left",infinite:!0}})],1),i("p",{staticStyle:{"text-align":"left"}},[i("textra",{attrs:{data:t.detail,timer:2.1,filter:"right-left",infinite:!0}})],1)])]),i("br"),i("br"),t._m(1),i("br"),i("br"),i("div",{staticClass:"container-fluid"},[i("h1",[t._v("Features")]),i("br"),i("div",{staticClass:"row custom-features"},[t._m(2),i("div",{staticClass:"col-lg-6 col-md-6"},[i("video",{ref:"createvideoRef",attrs:{width:"100%"}})])]),i("br"),i("div",{staticClass:"row custom-features"},[t._m(3),i("div",{staticClass:"col-lg-6 col-md-6 order-md-1"},[i("video",{ref:"verifyvideoRef",attrs:{width:"100%"}})])]),i("br"),i("div",{staticClass:"row custom-features"},[t._m(4),i("div",{staticClass:"col-lg-6 col-md-6"},[i("video",{ref:"organizationvideoRef",attrs:{width:"100%"}})])])]),i("br"),i("br"),i("h1",[t._v("Our Work")]),i("br"),i("b-carousel",{staticStyle:{"text-shadow":"1px 1px 2px #333"},attrs:{id:"carousel-1",interval:4e3,controls:"",indicators:"",background:"#ababab","img-width":"1024","img-height":"200"},on:{"sliding-start":t.onSlideStart,"sliding-end":t.onSlideEnd},model:{value:t.slide,callback:function(e){t.slide=e},expression:"slide"}},[i("b-carousel-slide",{attrs:{caption:"First slide",text:"Nulla vitae elit libero, a pharetra augue mollis interdum.","img-src":"https://picsum.photos/1024/200/?image=52"}}),i("b-carousel-slide",{attrs:{"img-src":"https://picsum.photos/1024/200/?image=54"}},[i("h1",[t._v("Hello world!")])]),i("b-carousel-slide",{attrs:{"img-src":"https://picsum.photos/1024/200/?image=58"}}),i("b-carousel-slide",{scopedSlots:t._u([{key:"img",fn:function(){return[i("img",{staticClass:"d-block img-fluid w-100",attrs:{width:"1024",height:"200",src:"https://picsum.photos/1024/200/?image=55",alt:"image slot"}})]},proxy:!0}])}),i("b-carousel-slide",{attrs:{caption:"Blank Image","img-blank":"","img-alt":"Blank image"}},[i("p",[t._v(" Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse eros felis, tincidunt a tincidunt eget, convallis vel est. Ut pellentesque ut lacus vel interdum. ")])])],1),i("br"),i("br"),i("h1",[t._v("Avail Services")]),i("br"),i("b-card-group",{attrs:{deck:""}},[i("b-card",{staticClass:"custom-card",attrs:{title:"Physical Organization"}},[i("b-card-text",[t._v(" The physical locations of managed systems might not correspond to the networks on which the systems reside. In this case, you might want to create a new domain in which the Sun Management Center groups are structured on physical lines. Cities, sites, buildings, floors, server rooms and even equipment racks can easily be represented. The systems at these locations can be copied and pasted from the domain in which discovery was performed using the Discovery Manager. To configure a Sun Management Center environment along physical lines requires you to know where the systems are physically located. This organization can become a valuable and easily accessed reference. A physical organization also defines a status roll-up path, enabling problems to be isolated on physical lines and assisting in the identification of common-mode failures. For example, a localized power outage might affect systems that reside on several networks but will only appear in one physical area. ")]),i("b-button",{staticClass:"custom-button",attrs:{pill:""}},[t._v("Apply Now")])],1),i("b-card",{staticClass:"custom-card",attrs:{title:"Client Organization"}},[i("b-card-text",[t._v(" A Logical Organization™ is one that understanding the new rules of engagement in the digital world – and how to use business insight to make better decisions. Every aspect of business is decision-based, yet poor business decisions are costing organisations millions of dollars every year. Whilst many companies are still in the process of cleaning and organizing their data for BI tools, not enough are architecting their data for strategic decision making. Overcoming this state demands alignment, relevance, efficiency, accountability, and data quality. Changes are becoming more rapid and more complex that it is almost impossible to understand all the relationships and how they will affect your business. With over 30 years of consulting to major corporations on strategic improvement, working closely with the C-suite and IT in enabling better decision making there is more to business insight than just BI.with every day tasks performed throughout the organisation – where everyone understands how they are ")]),i("b-button",{staticClass:"custom-button",attrs:{pill:""}},[t._v("Apply Now")])],1)],1)],1)},j=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-lg-6 col-md-6 col-sm-6"},[i("img",{attrs:{src:"/Home/Service.jpg",width:"100%"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"row custom-target"},[i("div",{staticClass:"col-lg-6 col-md-6 d-flex justify-content-center"},[i("div",{staticClass:"col-lg-6"},[i("img",{staticClass:"rounded-circle target-img",attrs:{src:"/Home/target.jpg",alt:"Circle Image"}})])]),i("div",{staticClass:"container"},[i("h1",[t._v("Our Target")]),i("p",{staticStyle:{"margin-bottom":"0"}},[t._v(' "Certifis helps advance the profession, certification has made its way into nearly every sector. The goal of Certifis is to address the challenges encountered by certificate issuing entities such as creation, validation and verification certificates." ')])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-lg-6 col-md-6 d-flex justify-content-center"},[i("div",{staticClass:"col-lg-6"},[i("img",{staticClass:"rounded-circle feature-img",attrs:{src:"/Home/create.jpg",alt:"Circle Image"}}),i("h3",[t._v("Creation")]),i("p",[t._v(" Build certificates according to your preferred choices for every industry in today's world. ")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-lg-6 col-md-6 d-flex justify-content-center order-md-2"},[i("div",{staticClass:"col-lg-6"},[i("img",{staticClass:"rounded-circle feature-img",attrs:{src:"/Home/verify.jpg",alt:"Circle Image"}}),i("h3",[t._v("Verification")]),i("p",[t._v(" Verify your honorable certificate from anywhere and anytime in a temper free environment. ")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-lg-6 col-md-6 d-flex justify-content-center"},[i("div",{staticClass:"col-lg-6"},[i("img",{staticClass:"rounded-circle feature-img",attrs:{src:"/Home/organization.jpg",alt:"Circle Image"}}),i("h3",[t._v("Organization")]),i("p",[t._v(" Opportunity to act as a service provider or service grabber as your need. ")])])])}],E={name:"HomePage",data:function(){return{slide:0,sliding:null,words:["Education","Health","Events","Sports"],detail:["Education is the process of facilitating learning, or the acquisition of knowledge, skills, values, beliefs, and habits. Educational methods include teaching, training, storytelling, discussion and directed research.","Health is a state of complete physical, mental, and social well-being and not merely the absence of disease or infirmity.","Events in Karachi deals in managing events, provide complete decor, artist management, catering and all type of technical support along with marketing of your events.","Sport includes all forms of competitive physical activity or games which, through casual or organized participation, at least in part aim to use, maintain or improve physical ability and skills while providing enjoyment to participants, and in some cases, entertainment for spectators"]}},methods:{onSlideStart:function(){this.sliding=!0},onSlideEnd:function(){this.sliding=!1}},mounted:function(){this.$refs.createvideoRef.src="/Home/createvideo.mp4",this.$refs.createvideoRef.autoplay=!0,this.$refs.createvideoRef.loop=!0,this.$refs.createvideoRef.muted=!0,this.$refs.verifyvideoRef.src="/Home/verifyvideo.mp4",this.$refs.verifyvideoRef.autoplay=!0,this.$refs.verifyvideoRef.loop=!0,this.$refs.verifyvideoRef.muted=!0,this.$refs.organizationvideoRef.src="/Home/organizationvideo.mp4",this.$refs.organizationvideoRef.autoplay=!0,this.$refs.organizationvideoRef.loop=!0,this.$refs.organizationvideoRef.muted=!0}},B=E,D=(i("66aa"),Object(f["a"])(B,O,j,!1,null,"c9131958",null)),I=D.exports,q={name:"Home",components:{home:I}},T=q,z=Object(f["a"])(T,P,A,!1,null,null,null),L=z.exports,H=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container vh-100 "},[i("div",{staticClass:"row h-100 "},[i("div",{staticClass:"col d-flex justify-content-center align-self-center "},[i("login")],1)])])},N=[],U=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"d-flex justify-content-center"},[i("b-card",{staticClass:"overflow-hidden",staticStyle:{"max-width":"540px"},attrs:{"no-body":""}},[i("b-row",{attrs:{"no-gutters":""}},[i("b-col",{staticClass:"d-none d-sm-none d-md-block",attrs:{md:"6"}},[i("b-card-img",{staticClass:"rounded-0",attrs:{src:"https://i.pinimg.com/originals/42/73/b7/4273b7c22af24b9d4bade05c28cdc2ac.jpg",alt:"Image"}})],1),i("b-col",{attrs:{md:"6"}},[i("b-card-body",{staticClass:"h-100",attrs:{title:"Login "}},[i("form",{staticClass:"mt-5",on:{submit:function(e){return e.preventDefault(),t.onclick(e)}}},[i("div",{staticClass:"form-group text-left"},[i("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Email address")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email","aria-describedby":"emailHelp",placeholder:"Enter email",required:"",autocomplete:"on"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),i("div",{staticClass:"form-group text-left"},[i("label",[t._v("Password")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),i("button",{staticClass:"btn btn-wb btn-block mt-5",attrs:{type:"submit"}},[t.show?i("span",[i("b-spinner",{attrs:{small:"",type:"grow"}}),t._v("Authenticating... ")],1):i("span",[t._v("Login")])]),t.message?i("p",{staticClass:"mt-1 text-danger"},[t._v(t._s(t.message))]):t._e()])])],1)],1)],1)],1)},R=[],F=(i("96cf"),i("1da1")),G={name:"login",data:function(){return{email:"",password:"",show:!1,message:""}},methods:{onclick:function(){var t=this;return Object(F["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.show=!0,t.$store.dispatch("user_state/authenticate",{email:t.email,password:t.password}).then((function(){t.show=!1,t.$router.push("/dashboard")})).catch((function(e){t.show=!1,e.response?401!=e.response.status&&403!=e.response.status||(console.log(e.response.data),t.message=e.response.data.message):t.message="no network"}));case 2:case"end":return e.stop()}}),e)})))()}},created:function(){"true"===this.$route.query.session_expire&&(this.message="Session Expired")}},V=G,M=Object(f["a"])(V,U,R,!1,null,null,null),W=M.exports,J={name:"Home",components:{login:W}},Y=J,K=Object(f["a"])(Y,H,N,!1,null,null,null),X=K.exports,Q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-fluid",staticStyle:{"margin-top":"120px"}},[i("b-modal",{attrs:{centered:"",id:"modalPopover","content-class":"bg-wb","hide-header":"","hide-footer":"",title:"Modal with Popover",size:"lg"},model:{value:t.select_variant,callback:function(e){t.select_variant=e},expression:"select_variant"}},[i("div",{staticClass:"row pt-5 pb-5"},[i("div",{staticClass:"col border-right"},[i("h1",{staticClass:"text-white text-center",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.setbatch(!1)}}},[t._v(" Single Certificate ")])]),i("div",{staticClass:"col border-left"},[i("h1",{staticClass:"text-white text-center",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.setbatch(!0)}}},[t._v(" Batch Certificate ")])])])]),i("b-overlay",{attrs:{show:t.process,"no-wrap":"",rounded:"sm"},scopedSlots:t._u([{key:"overlay",fn:function(){return[i("div",{staticClass:"text-center"},[i("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Large Spinner"}}),i("p",{attrs:{id:"cancel-label"}},[t._v("Processing...")])],1)]},proxy:!0}])}),t.template||null!=t.IsBatch?i("div",{staticClass:"row justify-content-center mb-2"},[i("div",{staticClass:"col-11 shadow p-2 "},[i("a",{staticClass:"text-dark float-left",attrs:{href:"#"},on:{click:t.show_selector}},[i("b-icon",{staticClass:"h1",attrs:{icon:"arrow-left-circle"}})],1),i("h1",{staticClass:"text-wb"},[t._v(t._s(t.PageTitle))])])]):t._e(),t.template&&null!=t.IsBatch?i("div",{staticClass:"row justify-content-center"},[i("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-8 d-flex justify-content-center"},[i("div",[i(t.template,{tag:"component"})],1)]),t.IsBatch?i("div",[i("BatchInfo",{attrs:{template_id:t.template},on:{start:t.start_process,stop:t.stop_process}})],1):i("div",{staticClass:"col d-flex justify-content-center"},[i("CertificateInfo",{attrs:{template_id:t.template},on:{start:t.start_process,stop:t.stop_process}})],1)]):i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("templateselector",{on:{select:t.select}})],1)])],1)},Z=[],tt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-card",{staticClass:"shadow",staticStyle:{width:"320px"},attrs:{"no-body":""}},[i("center",[i("b-col",{staticClass:"scroll"},[i("b-card-body",{staticClass:"h-100",attrs:{title:"CERTIFICATE INFORMATION"}},[i("form",[i("div",{staticClass:"form-group text-left"},[i("label",[i("sup",{staticClass:"text-danger"},[t._v("*")]),t._v(" Title")]),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.cert.title.$model,expression:"$v.cert.title.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"Title"},domProps:{value:t.$v.cert.title.$model},on:{input:[function(e){e.target.composing||t.$set(t.$v.cert.title,"$model",e.target.value.trim())},t.updatecert],blur:function(e){return t.$forceUpdate()}}}),t.$v.cert.title.$error?i("sub",{staticClass:"text-danger text-left"},[t._v(" Field is required ")]):t._e()]),i("div",{staticClass:"form-group text-left"},[i("label",[i("sup",{staticClass:"text-danger"},[t._v("*")]),t._v(" Candidate Name")]),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.cert.name.$model,expression:"$v.cert.name.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"Candidate Name"},domProps:{value:t.$v.cert.name.$model},on:{input:[function(e){e.target.composing||t.$set(t.$v.cert.name,"$model",e.target.value.trim())},t.updatecert],blur:function(e){return t.$forceUpdate()}}}),t.$v.cert.name.$error?i("sub",{staticClass:"text-danger"},[t._v(" Field is required ")]):t._e()]),i("div",{staticClass:"form-group text-left"},[i("label",[i("sup",{staticClass:"text-danger"},[t._v("*")]),t._v(" Candidate Email")]),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.cert.email.$model,expression:"$v.cert.email.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"email",placeholder:"Candidate Email"},domProps:{value:t.$v.cert.email.$model},on:{change:t.updatecert,input:function(e){e.target.composing||t.$set(t.$v.cert.email,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.$v.cert.email.$error&&!t.$v.cert.email.required?i("sub",{staticClass:"text-danger"},[t._v(" Field is required ")]):t._e(),t.$v.cert.email.email?t._e():i("sub",{staticClass:"text-danger"},[t._v(" Not a valid email ")])]),i("div",{staticClass:"form-group text-left"},[i("label",[t._v("Instructor Name")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.cert.instructor_name,expression:"cert.instructor_name"}],staticClass:"form-control form-group",attrs:{type:"text",placeholder:"Instructor Name"},domProps:{value:t.cert.instructor_name},on:{input:[function(e){e.target.composing||t.$set(t.cert,"instructor_name",e.target.value)},t.updatecert]}})]),i("div",{staticClass:"form-group text-left"},[i("label",{attrs:{for:""}},[t._v("Expiry Date")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.cert.expiry_date,expression:"cert.expiry_date"}],staticClass:"form-control form-group",attrs:{type:"date",placeholder:"Title"},domProps:{value:t.cert.expiry_date},on:{change:t.updatecert,input:function(e){e.target.composing||t.$set(t.cert,"expiry_date",e.target.value)}}})]),i("div",{staticClass:"form-group text-left"},[i("label",[i("sup",{staticClass:"text-danger"},[t._v("*")]),t._v(" Description")]),i("b-form-textarea",{staticClass:"form-control",attrs:{placeholder:"Description"},on:{input:t.updatecert},model:{value:t.$v.cert.description.$model,callback:function(e){t.$set(t.$v.cert.description,"$model","string"===typeof e?e.trim():e)},expression:"$v.cert.description.$model"}}),t.$v.cert.description.$error?i("sub",{staticClass:"text-danger text-left"},[t._v(" Discription is required ")]):t._e()],1),i("div",{staticClass:"form-group text-left"},[i("label",{staticClass:"btn btn-wb btn-block",attrs:{for:"UploadLogo"}},[i("sup",{staticClass:"text-danger"},[t._v("*")]),t._v(" UPLOAD LOGO")]),i("input",{ref:"logo",attrs:{type:"file",id:"UploadLogo",accept:"image/*",hidden:""},on:{change:function(e){return t.HandleFileUpload(!0)}}}),t.$v.cert.logo.$error?i("sub",{staticClass:"text-danger"},[t._v(" logo is required ")]):t._e()]),i("div",{staticClass:"form-group text-left"},[i("label",{staticClass:"btn btn-wb btn-block",attrs:{for:"UploadSignature"}},[i("sup",{staticClass:"text-danger"},[t._v("*")]),t._v(" UPLOAD SIGNATURE")]),i("input",{ref:"signature",attrs:{type:"file",id:"UploadSignature",accept:"image/*",hidden:""},on:{change:function(e){return t.HandleFileUpload(!1)}}}),t.$v.cert.signature.$error?i("sub",{staticClass:"text-danger text-left"},[t._v(" signature is required ")]):t._e()]),t.edit?i("button",{staticClass:"btn btn-wb btn-block",attrs:{type:"button"},on:{click:t.modify_Cert}},[t._v(" Update ")]):i("button",{staticClass:"btn btn-wb btn-block",attrs:{type:"button"},on:{click:t.Create_Cert}},[t._v(" CREATE ")])])])],1)],1)],1)],1)},et=[],it=(i("a4d3"),i("e01a"),i("3ca3"),i("ddb0"),i("2b3d"),i("b5ae")),at={name:"certificateinfo",props:{template_id:String,edit:Boolean},methods:{HandleFileUpload:function(t){if(t&&this.$refs.logo.files.length>0){var e=this.$refs.logo.files[0];this.logo_file=e,this.cert.logo=URL.createObjectURL(e)}else if(this.$refs.signature.files.length>0){var i=this.$refs.signature.files[0];this.signature_file=i,this.cert.signature=URL.createObjectURL(i)}this.updatecert()},updatecert:function(){this.$store.commit("cert_state/updatecert",this.cert)},reset_cert:function(){this.cert={title:"",name:null,email:null,instructor_name:null,expiry_date:null,description:null,logo:null,signature:null,templateid:null,certificate_img:"base64"},this.logo_file=null,this.signature_file=null,this.$refs.logo.value="",this.$refs.signature.value=""},Create_Cert:function(){var t=this;this.$v.$touch(),this.$v.$invalid||(this.$emit("start"),this.$store.dispatch("cert_state/Create_Certificate",this.form()).then((function(e){console.log("Save succefully"),t.reset_cert(),t.updatecert(),t.$v.$reset(),t.$emit("stop"),console.log(e)})).catch((function(e){t.$emit("stop"),console.log(e)})))},form:function(){var t=new FormData;return t.append("title",this.cert.title),t.append("name",this.cert.name),t.append("email",this.cert.email),t.append("instructor_name",this.cert.instructor_name),t.append("description",this.cert.description),this.cert.expiry_date&&t.append("expiry_date",this.cert.expiry_date),this.logo_file&&t.append("logo",this.logo_file),this.signature_file&&t.append("signature",this.signature_file),t.append("template_id",this.template_id),t},modify_Cert:function(){var t=this;this.$v.$touch(),this.$v.$invalid||(this.$emit("start"),this.$store.dispatch("cert_state/Update_Certificate",{form:this.form(),id:this.$route.params.id}).then((function(e){t.reset_cert(),t.updatecert(),t.$v.$reset(),t.$emit("stop"),t.$router.push("/certificates"),console.log(e)})).catch((function(e){t.$emit("stop"),console.log(e)})))},getBase64:function(t){var e=new FileReader;e.readAsDataURL(t),e.onload=function(){console.log(e.result)},e.onerror=function(t){console.log("Error: ",t)}}},data:function(){return{src:"",logo_file:null,signature_file:null,cert:{title:"",name:null,email:null,instructor_name:null,expiry_date:null,description:null,logo:null,signature:null,templateid:null,certificate_img:"base64"}}},validations:{cert:{title:{required:it["required"]},name:{required:it["required"]},email:{required:it["required"],email:it["email"]},description:{required:it["required"]},logo:{required:it["required"]},signature:{required:it["required"]}}},created:function(){if(this.edit){var t=this.$store.state.cert_state.cert;this.cert.id=t._id,this.cert.title=t.title,this.cert.name=t.name,this.cert.email=t.email,this.cert.instructor_name=t.instructor_name,this.cert.expiry_date=t.expiry_date,this.cert.description=t.description,this.cert.logo=t.logo,this.cert.signature=t.signature}}},st=at,nt=(i("9b91"),Object(f["a"])(st,tt,et,!1,null,"4bb25b30",null)),rt=nt.exports,ot=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-card",{staticClass:"shadow",staticStyle:{width:"320px"},attrs:{"no-body":""}},[i("center",[i("b-col",[i("b-card-body",{staticClass:"h-100",attrs:{title:"BATCH INFORMATION"}},[i("form",[i("div",{staticClass:"form-group text-left"},[i("label",[i("sup",{staticClass:"text-danger"},[t._v("*")]),t._v("Title")]),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.cert.title.$model,expression:"$v.cert.title.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"Title"},domProps:{value:t.$v.cert.title.$model},on:{input:[function(e){e.target.composing||t.$set(t.$v.cert.title,"$model",e.target.value.trim())},t.updatecert],blur:function(e){return t.$forceUpdate()}}}),t.$v.cert.title.$error?i("sub",{staticClass:"text-danger text-left"},[t._v(" Field is required ")]):t._e()]),i("div",{staticClass:"form-group text-left"},[i("label",[i("sup",{staticClass:"text-danger"},[t._v("*")]),t._v("Batch Name")]),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.batch_name.$model,expression:"$v.batch_name.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"Batch Name"},domProps:{value:t.$v.batch_name.$model},on:{input:[function(e){e.target.composing||t.$set(t.$v.batch_name,"$model",e.target.value.trim())},t.updatecert],blur:function(e){return t.$forceUpdate()}}}),t.$v.batch_name.$error?i("sub",{staticClass:"text-danger text-left"},[t._v(" Field is required ")]):t._e()]),i("div",{staticClass:"form-group text-left"},[i("label",[t._v("Instructor Name")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.cert.instructor_name,expression:"cert.instructor_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Instructor Name"},domProps:{value:t.cert.instructor_name},on:{input:[function(e){e.target.composing||t.$set(t.cert,"instructor_name",e.target.value)},t.updatecert]}})]),i("div",{staticClass:"form-group text-left"},[i("label",[t._v("Expiry Date")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.cert.expiry_date,expression:"cert.expiry_date"}],staticClass:"form-control",attrs:{type:"date",placeholder:"Title"},domProps:{value:t.cert.expiry_date},on:{change:t.updatecert,input:function(e){e.target.composing||t.$set(t.cert,"expiry_date",e.target.value)}}}),i("sub",{staticClass:"text-secondary"},[t._v("Note: for life time expiry left empty")])]),i("div",{staticClass:"form-group text-left"},[i("label",[i("sup",{staticClass:"text-danger"},[t._v("*")]),t._v("Description")]),i("b-form-textarea",{staticClass:"form-control",attrs:{placeholder:"Description"},on:{input:t.updatecert},model:{value:t.$v.cert.description.$model,callback:function(e){t.$set(t.$v.cert.description,"$model","string"===typeof e?e.trim():e)},expression:"$v.cert.description.$model"}}),t.$v.cert.description.$error?i("sub",{staticClass:"text-danger text-left"},[t._v(" Discription is required ")]):t._e()],1),i("div",{staticClass:"form-group text-left"},[i("label",{staticClass:"btn btn-wb btn-block",attrs:{for:"UploadLogo"}},[t._v("UPLOAD LOGO")]),i("input",{ref:"logo",attrs:{type:"file",id:"UploadLogo",accept:"image/*",hidden:""},on:{change:function(e){return t.HandleFileUpload(!0)}}}),t.$v.cert.logo.$error?i("sub",{staticClass:"text-danger text-left"},[t._v(" logo is required ")]):t._e()]),i("div",{staticClass:"form-group text-left"},[i("label",{staticClass:"btn btn-wb btn-block",attrs:{for:"UploadSignature"}},[t._v("UPLOAD SIGNATURE")]),i("input",{ref:"signature",attrs:{type:"file",id:"UploadSignature",accept:"image/*",hidden:""},on:{change:function(e){return t.HandleFileUpload(!1)}}}),t.$v.cert.signature.$error?i("sub",{staticClass:"text-danger text-left"},[t._v(" signature is required ")]):t._e()]),t.edit?i("button",{staticClass:"btn btn-wb btn-block",attrs:{type:"button"},on:{click:t.Modify_Batch}},[t._v(" Save Changes ")]):i("button",{staticClass:"btn btn-wb btn-block",attrs:{type:"button"},on:{click:t.Create_Batch}},[t._v(" CREATE ")])])])],1)],1)],1)],1)},ct=[],lt={name:"batchinfo",props:{template_id:String,edit:Boolean},methods:{HandleFileUpload:function(t){if(t&&this.$refs.logo.files.length>0){var e=this.$refs.logo.files[0];this.logo_file=e,this.cert.logo=URL.createObjectURL(e)}else if(this.$refs.signature.files.length>0){var i=this.$refs.signature.files[0];this.signature_file=i,this.cert.signature=URL.createObjectURL(i)}this.updatecert()},updatecert:function(){this.$store.commit("cert_state/updatecert",this.cert)},reset_cert:function(){this.cert={title:"",name:null,email:null,instructor_name:null,expiry_date:null,description:null,logo:null,signature:null,templateid:null,certificate_img:"base64"},this.batch_name=null,this.logo_file=null,this.signature_file=null,this.$refs.logo.value="",this.$refs.signature.value=""},Create_Batch:function(){var t=this;this.$v.$touch(),this.$v.$invalid||(this.$emit("start"),this.$store.dispatch("cert_state/Create_Batch",this.form()).then((function(e){console.log("Save succefully"),t.reset_cert(),t.updatecert(),t.$v.$reset(),t.$emit("stop"),console.log(e)})).catch((function(e){t.$emit("stop"),console.log(e)})))},Modify_Batch:function(){var t=this;this.$v.$touch(),this.$v.$invalid||(this.$emit("start"),this.$store.dispatch("cert_state/UpdateBatch",{form:this.form(),id:this.$route.params.id}).then((function(e){t.reset_cert(),t.updatecert(),t.$v.$reset(),t.$emit("stop"),t.$router.push("/certificates"),console.log(e)})).catch((function(e){t.$emit("stop"),console.log(e)})))},form:function(){var t=new FormData;return t.append("title",this.cert.title),t.append("description",this.cert.description),t.append("batch_name",this.batch_name),this.cert.instructor_name&&t.append("instructor_name",this.cert.instructor_name),this.cert.expiry_date&&t.append("expiry_date",this.cert.expiry_date),this.logo_file&&t.append("logo",this.logo_file),this.signature_file&&t.append("signature",this.signature_file),t.append("template_id",this.template_id),t}},data:function(){return{logo_file:null,signature_file:null,batch_name:null,cert:{title:"",name:'"Name"',email:null,instructor_name:null,expiry_date:null,description:null,logo:null,signature:null,templateid:null,certificate_img:"base64"}}},validations:{batch_name:{required:it["required"]},cert:{title:{required:it["required"]},description:{required:it["required"]},logo:{required:it["required"]},signature:{required:it["required"]}}},created:function(){if(this.edit){var t=this.$store.state.cert_state.cert;this.cert.title=t.title,this.cert.instructor_name=t.instructor_name,this.cert.expiry_date=t.expiry_date,this.cert.description=t.description,this.cert.logo=t.logo,this.cert.signature=t.signature,this.batch_name=t.batch_name}}},ut=lt,dt=Object(f["a"])(ut,ot,ct,!1,null,null,null),ht=dt.exports,mt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"shadow bg-white"},[t.edit?i("div",{staticClass:"row p-2"},[i("div",{staticClass:"col d-flex justify-content-end"},[i("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"x-circle","font-scale":"2"},on:{click:t.close}})],1)]):t._e(),t._l(t.templates,(function(e,a){return i("div",{key:a,staticClass:"row p-2"},[i("div",{staticClass:"col d-flex justify-content-center"},[i("temp",{attrs:{path:e[0].img,tid:e[0].id},on:{select:t.select}})],1),e.length>1?i("div",{staticClass:"col d-flex justify-content-center"},[i("temp",{attrs:{path:e[1].img,tid:e[1].id},on:{select:t.select}})],1):i("div",{staticClass:"col"})])}))],2)},ft=[],pt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("imageviewer",{ref:"i1",attrs:{path:t.path}}),i("div",{staticClass:"card shadow",staticStyle:{width:"25rem"}},[i("img",{staticClass:"card-img-top p-1",attrs:{src:t.path,alt:"..."}}),t._m(0),i("div",{staticClass:"row mb-3 mr-2 ml-2"},[i("div",{staticClass:"col"},[i("b-button",{staticClass:"btn-wb",attrs:{squared:"",block:""},on:{click:t.view}},[t._v("View")])],1),i("div",{staticClass:"col"},[i("b-button",{staticClass:"btn-wb",attrs:{squared:"",block:""},on:{click:t.select}},[t._v("Start")])],1)])])],1)},gt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card-body"},[i("p",{staticClass:"card-text text-justify"},[t._v(" Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. ")])])}],vt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-modal",{attrs:{"content-class":"mo","model-body":"mo",id:"modal-xl",centered:"",size:"xl","hide-footer":"","hide-header":""},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[i("div",{staticClass:"float-right"},[i("a",{staticClass:"text-white",attrs:{href:"#"},on:{click:t.close}},[t._v("X")])]),i("img",{attrs:{src:t.path,alt:"",width:"100%"}})])],1)},_t=[],bt={name:"image_viewer",props:["path"],data:function(){return{modalShow:!1}},methods:{close:function(){this.modalShow=!1}}},Ct=bt,yt=(i("1bcd"),Object(f["a"])(Ct,vt,_t,!1,null,null,null)),wt=yt.exports,xt={props:["path","tid"],name:"temp",components:{imageviewer:wt},methods:{select:function(){this.$emit("select",this.tid)},view:function(){this.$refs.i1.modalShow=!0}}},$t=xt,kt=Object(f["a"])($t,pt,gt,!1,null,null,null),St=kt.exports,Pt={data:function(){return{templates:[[{id:"c1",img:"/sampletemplates/c1.PNG"},{id:"c2",img:"/sampletemplates/f2b08cc2a4da932e542734ae797563d1.png"}],[{id:"c3",img:"/sampletemplates/c3.png"},{id:"c4",img:"/sampletemplates/c4.png"}],[{id:"c5",img:"/sampletemplates/c5.png"}]]}}},At={name:"template_selector",props:{edit:Boolean},mixins:[Pt],components:{temp:St},data:function(){return{show:!0}},methods:{select:function(t){this.$emit("select",t)},close:function(){this.$emit("close")}}},Ot=At,jt=Object(f["a"])(Ot,mt,ft,!1,null,null,null),Et=jt.exports,Bt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"container1 border"},[i("img",{staticClass:"cert",attrs:{src:"/templates/certificate.jpeg",alt:""}}),i("img",{staticClass:"logo",attrs:{src:t.cert.logo,width:"80",alt:""}}),i("h3",{staticClass:"t"},[t._v(t._s(t.cert.title))]),i("p",{staticClass:"desc text-left"},[t._v(" It is to certify that "),i("b",[t._v(t._s(t.cert.name))]),t._v(" "+t._s(t.cert.description)+" ")]),t.cert.publish&&t.cert.publish.publish_date?i("p",{staticClass:"p2 text-left"},[t._v(" Publish Date: "+t._s(new Date(t.cert.publish.publish_date).toLocaleDateString())+" ")]):t._e(),t.cert.publish&&t.cert.publish.status?i("p",{staticClass:"p3 text-left"},[t._v(" verfication code: "+t._s(t.cert._id)+" ")]):t._e(),i("div",[i("p",{staticClass:"sign"},[t._v("Signature: _____________________")]),i("img",{staticClass:"isign",attrs:{src:t.cert.signature,width:"150",height:"100",alt:""}})])])])},Dt=[],It={name:"c2",computed:Object(l["a"])({},Object(v["c"])("cert_state",["cert"]))},qt=It,Tt=(i("091f"),Object(f["a"])(qt,Bt,Dt,!1,null,"6dd66c3e",null)),zt=Tt.exports,Lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container1"},[i("img",{staticStyle:{width:"100%","object-fit":"cover"},attrs:{src:"/templates/f2b08cc2a4da932e542734ae797563d1.png",alt:""}}),i("img",{staticClass:"logo",attrs:{src:t.cert.logo,alt:""}}),i("h3",{staticClass:"t"},[t._v(t._s(t.cert.title))]),i("p",{staticClass:"desc text-left"},[t._v(" It is to certify that "),i("b",[t._v(t._s(t.cert.name))]),t._v(" "+t._s(t.cert.description)+" ")]),t.cert.publish&&t.cert.publish.publish_date?i("p",{staticClass:"p2 text-left"},[t._v(" Publish Date: "+t._s(new Date(t.cert.publish.publish_date).toLocaleDateString())+" ")]):t._e(),t.cert.publish&&t.cert.publish.status?i("p",{staticClass:"p3 text-left"},[t._v(" verfication code: "+t._s(t.cert._id)+" ")]):t._e(),i("p",{staticClass:"sign"},[t._v("Signature: _____________________")]),i("img",{staticClass:"isign ",attrs:{src:t.cert.signature}})])},Ht=[],Nt={name:"certificate",computed:Object(l["a"])({},Object(v["c"])("cert_state",["cert"]))},Ut=Nt,Rt=(i("69a8"),Object(f["a"])(Ut,Lt,Ht,!1,null,"39f37872",null)),Ft=Rt.exports,Gt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container1"},[i("img",{staticStyle:{width:"100%","object-fit":"cover"},attrs:{src:"/templates/c3.png",alt:""}}),i("img",{staticClass:"logo",attrs:{src:t.cert.logo,alt:""}}),i("h3",{staticClass:"t"},[t._v(t._s(t.cert.title))]),i("p",{staticClass:"desc text-left"},[t._v(" It is to certify that "),i("b",[t._v(t._s(t.cert.name))]),t._v(" "+t._s(t.cert.description)+" ")]),t.cert.publish&&t.cert.publish.publish_date?i("p",{staticClass:"p2 text-left"},[t._v(" Publish Date: "+t._s(new Date(t.cert.publish.publish_date).toLocaleDateString())+" ")]):t._e(),t.cert.publish&&t.cert.publish.status?i("p",{staticClass:"p3 text-left"},[t._v(" verfication code: "+t._s(t.cert._id)+" ")]):t._e(),i("p",{staticClass:"sign"},[t._v("Signature: _____________________")]),i("img",{staticClass:"isign",attrs:{src:t.cert.signature}})])},Vt=[],Mt={name:"certificate",computed:Object(l["a"])({},Object(v["c"])("cert_state",["cert"]))},Wt=Mt,Jt=(i("6bf7"),Object(f["a"])(Wt,Gt,Vt,!1,null,"57d89458",null)),Yt=Jt.exports,Kt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container1"},[i("img",{staticStyle:{width:"100%","object-fit":"cover"},attrs:{src:"/templates/c4.png",alt:""}}),i("img",{staticClass:"logo",attrs:{src:t.cert.logo,alt:""}}),i("h3",{staticClass:"t text-center"},[t._v(t._s(t.cert.title))]),i("p",{staticClass:"desc text-center"},[t._v(" It is to certify that "),i("b",[t._v(t._s(t.cert.name))]),t._v(" "+t._s(t.cert.description)+" ")]),t.cert.publish&&t.cert.publish.publish_date?i("p",{staticClass:"p2 text-left"},[t._v(" Publish Date: "+t._s(new Date(t.cert.publish.publish_date).toLocaleDateString())+" ")]):t._e(),t.cert.publish&&t.cert.publish.status?i("p",{staticClass:"p3 text-left"},[t._v(" verfication code: "+t._s(t.cert._id)+" ")]):t._e(),i("p",{staticClass:"sign"},[t._v("Signature: _____________")]),i("img",{staticClass:"isign",attrs:{src:t.cert.signature}})])},Xt=[],Qt={name:"certificate",computed:Object(l["a"])({},Object(v["c"])("cert_state",["cert"]))},Zt=Qt,te=(i("dbd3"),Object(f["a"])(Zt,Kt,Xt,!1,null,"3d5819a0",null)),ee=te.exports,ie=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container1"},[i("img",{staticClass:"border border-dark",staticStyle:{width:"100%","object-fit":"cover"},attrs:{src:"/templates/c5.png",alt:""}}),i("img",{staticClass:"logo",attrs:{src:t.cert.logo,alt:""}}),i("h3",{staticClass:"t text-left"},[t._v(t._s(t.cert.title))]),i("p",{staticClass:"desc text-left text-justify"},[t._v(" It is to certify that "),i("br"),i("b",{staticStyle:{"font-size":"2vw",color:"black"}},[t._v(t._s(t.cert.name))]),t._v(" "),i("br"),t._v(" "+t._s(t.cert.description)+" ")]),t.cert.publish&&t.cert.publish.publish_date?i("p",{staticClass:"p2 text-left"},[t._v(" Publish Date: "+t._s(new Date(t.cert.publish.publish_date).toLocaleDateString())+" ")]):t._e(),t.cert.publish&&t.cert.publish.status?i("p",{staticClass:"p3 text-left"},[t._v(" verfication code: "+t._s(t.cert._id)+" ")]):t._e(),i("p",{staticClass:"sign"},[t._v("Signature: _______________")]),i("img",{staticClass:"isign",attrs:{src:t.cert.signature}})])},ae=[],se={name:"certificate",computed:Object(l["a"])({},Object(v["c"])("cert_state",["cert"]))},ne=se,re=(i("1d07"),Object(f["a"])(ne,ie,ae,!1,null,"124313a8",null)),oe=re.exports,ce={components:{c1:zt,c2:Ft,c3:Yt,c4:ee,c5:oe}},le={name:"Create",mixins:[ce],components:{CertificateInfo:rt,BatchInfo:ht,templateselector:Et},data:function(){return{PageTitle:null,template:"",select_variant:!1,process:!1,IsBatch:null}},methods:{select:function(t){this.template=t,this.select_variant=!0},show_selector:function(){this.template="",this.IsBatch=null,this.$store.commit("cert_state/clearcert")},setbatch:function(t){this.select_variant=!1,this.IsBatch=t,this.PageTitle=1==t?"Create Batch":"Create Certificate"},start_process:function(){this.process=!0},stop_process:function(){this.process=!1}},created:function(){this.$store.commit("cert_state/clearcert")}},ue=le,de=Object(f["a"])(ue,Q,Z,!1,null,null,null),he=de.exports,me=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container ",staticStyle:{"margin-top":"120px"}},[i("div",{staticClass:"row  justify-content-center"},[i("div",{staticClass:"col-12 col-sm-12 col-md-6 col-lg-6"},[i("forget")],1)])])},fe=[],pe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("div",{staticClass:"shadow p-5  "},[i("h3",{staticStyle:{"text-decoration":"underline"}},[t._v("Forget Certificate")]),t._m(0),i("button",{staticClass:"btn btn-dark btn-block mt-5",attrs:{type:"submit"},on:{click:t.send}},[t.show?t._e():i("span",[t._v("Send Details")]),t.show?i("span",[i("b-spinner",{attrs:{small:"",type:"grow"}}),t._v("Sending details... ")],1):t._e()]),i("b-alert",{staticClass:"mt-1",attrs:{variant:"light",dismissible:""},model:{value:t.showDismissibleAlert,callback:function(e){t.showDismissibleAlert=e},expression:"showDismissibleAlert"}},[t._v(" We have mailed your certificates register against this email hope this will help you ")])],1)])])},ge=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form-group text-left mt-5"},[i("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Enter Email")]),i("input",{staticClass:"form-control ",attrs:{type:"text",placeholder:"xyz@gmail.com"}})])}],ve={name:"forgetcertificate",data:function(){return{show:!1,showDismissibleAlert:!1,pagetitle:"Register Issuer"}},methods:{send:function(){var t=this;this.show=!0,setTimeout((function(){t.show=!1,t.showDismissibleAlert=!0}),1e3)}}},_e=ve,be=Object(f["a"])(_e,pe,ge,!1,null,null,null),Ce=be.exports,ye={name:"forgetcertificate",components:{forget:Ce}},we=ye,xe=Object(f["a"])(we,me,fe,!1,null,null,null),$e=xe.exports,ke=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container",staticStyle:{"margin-top":"120px"}},[i("div",{staticClass:"row justify-content-center"},[t.showcertificate?i("div",{staticClass:"col"},[i("div",{staticClass:"shadow p-3"},[i("h2",{class:"d-inline text-"+t.alertvariant},[t._v(t._s(t.title)+"!")]),i("b-button",{staticClass:"d-inline float-right",attrs:{title:"Load file"}},[i("b-icon",{attrs:{icon:"cloud-download","aria-hidden":"true"}})],1)],1),i("div",{staticClass:"row mt-2"},[i("div",{staticClass:"col d-flex justify-content-center"},[i(t.template,{tag:"component"})],1)]),i("div",{staticClass:"row mt-2"},[i("div",{staticClass:"col"},[i("b-alert",{staticClass:"mt-1",attrs:{variant:t.alertvariant,dismissible:""},model:{value:t.showDismissibleAlert,callback:function(e){t.showDismissibleAlert=e},expression:"showDismissibleAlert"}},[t._v(" "+t._s(t.msg)+" ")])],1)])]):i("div",{staticClass:"col-5"},[i("verify",{on:{ShowView:t.rendercert}})],1)])])},Se=[],Pe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("b-overlay",{attrs:{show:t.loading,rounded:"sm"},scopedSlots:t._u([{key:"overlay",fn:function(){return[i("div",{staticClass:"text-center"},[t.spinner?i("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Large Spinner"}}):i("b-icon",{attrs:{icon:"exclamation-circle-fill","font-scale":"2",variant:"danger"}}),i("p",{attrs:{id:"cancel-label"}},[t._v(t._s(t.loading_text))])],1)]},proxy:!0}])},[i("div",{staticClass:"shadow p-5"},[i("h3",{staticStyle:{"text-decoration":"underline"}},[t._v("Certificate Verification")]),i("div",{staticClass:"form-group text-left mt-5"},[i("label",[t._v("Enter code")]),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.code.$model,expression:"$v.code.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"24 digit code "},domProps:{value:t.$v.code.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.code,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),!t.$v.code.$error||t.$v.code.maxLength&&t.$v.code.minLength?t._e():i("sub",{staticClass:"text-danger"},[t._v("Invalid code enter 24 digit code eg. 5fd8fbb59a68f82540a88790")]),t.$v.code.$error&&!t.$v.code.required?i("sub",{staticClass:"text-danger"},[t._v("This field is required")]):t._e()]),i("button",{staticClass:"btn btn-dark btn-block mt-5",attrs:{type:"submit"},on:{click:t.send}},[t.show?t._e():i("span",[t._v("Verify")]),t.show?i("span",[i("b-spinner",{attrs:{small:"",type:"grow"}}),t._v("verifying... ")],1):t._e()]),i("sub",[t._v("Forgot certificates? "),i("router-link",{attrs:{to:"/forgetcertificate"}},[t._v("click here")])],1),i("b-alert",{staticClass:"mt-1",attrs:{variant:"danger",dismissible:""},model:{value:t.showDismissibleAlert,callback:function(e){t.showDismissibleAlert=e},expression:"showDismissibleAlert"}},[t._v(" "+t._s(t.msg)+" ")])],1)])],1)])},Ae=[],Oe={data:function(){return{loading_text:null,loading:!1,spinner:!0}},methods:{show_loader:function(t){this.loading_text=t,this.loading=!0,this.spinner=!0},Hide_loader:function(){this.loading=!1},show_error:function(t){this.loading_text=t,this.loading=!0,this.spinner=!1}}},je={name:"verify",mixins:[Oe],data:function(){return{show:!1,code:"",msg:null,showDismissibleAlert:!1}},methods:{send:function(){var t=this;this.$v.$touch(),this.$v.$invalid||(this.show_loader("Verifying..."),this.$store.dispatch("cert_state/VerifyCertificate",this.code).then((function(){t.Hide_loader(),t.$emit("ShowView")})).catch((function(e){e.response&&404==e.response.status?(t.msg=" The certificate doesnot exist",t.showDismissibleAlert=!0,t.Hide_loader()):e.response&&400==e.response.status?(t.msg="Invalid Code",t.showDismissibleAlert=!0,t.Hide_loader()):t.show_error(e)})))}},validations:{code:{required:it["required"],minLength:Object(it["minLength"])(24),maxLength:Object(it["maxLength"])(24)}}},Ee=je,Be=Object(f["a"])(Ee,Pe,Ae,!1,null,null,null),De=Be.exports,Ie={name:"verification",mixins:[ce],data:function(){return{showcertificate:!1,template:null,title:null,msg:null,showDismissibleAlert:!1,alertvariant:null}},components:{verify:De},methods:{rendercert:function(){var t=this.$store.state.cert_state.cert;this.template=t.template_id,this.msg=t.message,t.is_expired?(this.title="Expired",this.alertvariant="warning"):(this.title="Verified",this.alertvariant="success"),this.showcertificate=!0,this.showDismissibleAlert=!0}}},qe=Ie,Te=Object(f["a"])(qe,ke,Se,!1,null,null,null),ze=Te.exports,Le=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"row justify-content-center",staticStyle:{"margin-top":"120px"}},[i("div",{staticClass:"col"},[i("div",{staticClass:"shadow"},[i("h1",{staticClass:"text-wb"},[t._v("Hello "+t._s(t.user.name))])])])])])},He=[],Ne={name:"dashboard",computed:Object(l["a"])({},Object(v["c"])("user_state",["user"]))},Ue=Ne,Re=Object(f["a"])(Ue,Le,He,!1,null,null,null),Fe=Re.exports,Ge=(i("99af"),i("bc3a")),Ve=i.n(Ge),Me=i("8e27"),We="http://localhost:8000/";function Je(t){a=Me["io"].connect(We,{auth:{token:t}}),a.on("message",(function(t){si.commit("NewMessage",t)})),a.on("connect_error",(function(t){console.log(t.message)}))}function Ye(){a.emit("close",{a:1})}var Ke="https://certifis.herokuapp.com/",Xe={namespaced:!0,state:{Authorization:{SuperAdmin:!1,Admin:!1,Issuer:!1},user:{token:null}},mutations:{signout:function(t){t.user={token:null},t.Authorization={SuperAdmin:!1,Admin:!1,Issuer:!1},localStorage.removeItem("user"),Ye()},signin:function(t,e){t.user=e;for(var i=0;i<e.roles.length;i++)t.Authorization[e.roles[i]]=!0;localStorage.setItem("user",JSON.stringify({user:e,Authorization:t.Authorization}))},load_user:function(t){var e=JSON.parse(localStorage.getItem("user"));e&&(t.user=e.user,t.Authorization=e.Authorization,Je(t.user.token))},ToggleUserStatus:function(t,e){console.log(e,t.organizations)}},actions:{authenticate:function(t,e){var i=t.state,a=t.commit;return new Promise((function(t,s){Ve()({method:"post",data:{email:e.email,password:e.password},url:Ke+"api/account/login"}).then((function(e){a("signin",e.data),Je(i.user.token),t()})).catch((function(t){s(t)}))}))},signout:function(t){var e=t.commit;return new Promise((function(t){e("signout"),t()}))},changepassword:function(){},CheckEmail:function(t,e){var i=t.rootState;return new Promise((function(t,a){Ve()({headers:{Authorization:"Bearer ".concat(i.user_state.user.token)},method:"get",url:Ke+"api/account/Available/"+e}).then((function(e){t(e.data)})).catch((function(t){a(t)}))}))},RegisterUser:function(t,e){var i=t.rootState,a=null;return a=e.orgid?Ke+"api/account/Register/"+e.orgid:Ke+"api/account/Register/",new Promise((function(t,s){Ve()({headers:{Authorization:"Bearer ".concat(i.user_state.user.token)},url:a,method:"POST",data:e.user}).then((function(){t()})).catch((function(t){s(t)}))}))},ToggleUserStatus:function(t,e){var i=t.rootState,a=t.commit,s=null;return s=e.orgid?Ke+"api/account/togglestatus/".concat(e.orgid,"/").concat(e.userid):Ke+"api/account/togglestatus/".concat(e.userid),new Promise((function(t,n){Ve()({headers:{Authorization:"Bearer ".concat(i.user_state.user.token)},url:s,method:"PUT"}).then((function(){a("ToggleUserStatus",e),t()})).catch((function(t){n(t)}))}))}},getters:{IsLoggedIn:function(t){return null!=t.user.token}}},Qe=(i("4de4"),i("c740"),"https://certifis.herokuapp.com/"),Ze={namespaced:!0,state:{cert:{title:"Certificate Title",name:'"Name"',email:null,instructor_name:null,expiry_date:null,description:'"discription goes here"',logo:null,signature:null,templateid:null,certificate_img:"base64"},single_certificates:{list:null,totalcount:null},batches:{list:null,totalcount:null},batch_certs:{list:null,totalcount:null,batch:null}},mutations:{updatecert:function(t,e){t.cert=e},clearcert:function(t){t.cert={title:"Certificate Title",name:'"Name"',email:null,instructor_name:null,expiry_date:null,description:'"discription goes here"',logo:null,signature:null,templateid:null}},single_certs:function(t,e){t.single_certificates.list=e.list,e.totalcount&&parseInt(e.totalcount)>=0&&(t.single_certificates.totalcount=e.totalcount)},ClearSingleCertificates:function(t){t.single_certificates={list:null,totalcount:null}},ClearBatches:function(t){t.batches={list:null,totalcount:null}},ClearBatchCerts:function(t){t.batch_certs={list:null,totalcount:null,batch:null}},batches:function(t,e){t.batches.list=e.list,e.totalcount&&parseInt(e.totalcount)>=0&&(t.batches.totalcount=e.totalcount)},DeleteCert:function(t,e){var i=t.single_certificates.list,a=i.filter((function(t){return t._id!==e}));t.single_certificates.list=a,t.single_certificates.totalcount-=1},DeleteBatch:function(t,e){var i=t.batches.list,a=i.filter((function(t){return t._id!==e}));t.batches.list=a,t.batches.totalcount-=1},SetBackTrack:function(t,e){t.BackTrack=e},BatchCerts:function(t,e){t.batch_certs.list=e.list,e.totalcount&&(t.batch_certs.totalcount=e.totalcount),e.batch&&(t.batch_certs.batch=e.batch)},DeleteBatchCert:function(t,e){var i=t.batch_certs.list,a=i.filter((function(t){return t._id!==e}));t.batch_certs.list=a,t.batch_certs.totalcount-=1},UpdateBatchCert:function(t,e){var i=t.batch_certs.list,a=i.findIndex((function(t){return t._id==e._id}));s["default"].set(t.batch_certs.list,a,e)}},actions:{GetSingleCertificates:function(t,e){var i=t.rootState,a=t.commit;return new Promise((function(t,s){e||(e=1);var n=Qe+"api/certificate?pageno="+e;Ve()({headers:{Authorization:"Bearer ".concat(i.user_state.user.token)},method:"GET",url:n}).then((function(e){a("single_certs",e.data),t()})).catch((function(t){s(t)}))}))},GetCertificate:function(t,e){var i=t.rootState,a=t.commit,s=null;return s=e.edit?Qe+"api/certificate/".concat(e.id,"?edit=").concat(e.edit):Qe+"api/certificate/"+e.id,new Promise((function(t,e){Ve()({headers:{Authorization:"Bearer ".concat(i.user_state.user.token)},url:s,method:"GET"}).then((function(e){var i=e.data;i.logo="".concat(Qe,"image/").concat(i.logo),i.signature="".concat(Qe,"image/").concat(i.signature),a("updatecert",e.data),t(e.data.template_id)})).catch((function(t){e(t)}))}))},Create_Certificate:function(t,e){var i=t.rootState;return new Promise((function(t,a){Ve()({headers:{Authorization:"Bearer ".concat(i.user_state.user.token)},url:Qe+"api/certificate",method:"POST",data:e}).then((function(e){t(e)})).catch((function(t){a(t)}))}))},Update_Certificate:function(t,e){var i=t.rootState;return new Promise((function(t,a){Ve()({headers:{Authorization:"Bearer ".concat(i.user_state.user.token)},url:Qe+"api/certificate/"+e.id,method:"PUT",data:e.form}).then((function(e){t(e)})).catch((function(t){a(t)}))}))},Delete_Certificate:function(t,e){var i=t.rootState,a=t.commit;return new Promise((function(t,s){Ve()({headers:{Authorization:"Bearer ".concat(i.user_state.user.token)},url:Qe+"api/certificate/"+e,method:"DELETE"}).then((function(i){a("DeleteCert",e),t(i)})).catch((function(t){s(t)}))}))},Publish_Certificate:function(t,e){var i=t.rootState;return new Promise((function(t,a){Ve()({headers:{Authorization:"Bearer ".concat(i.user_state.user.token)},url:Qe+"api/publish/single",method:"POST",data:{id:e}}).then((function(e){t(e)})).catch((function(t){a(t)}))}))},GetPublishCertificates:function(t,e){var i=t.rootState,a=t.commit;return new Promise((function(t,s){e||(e=1);var n=Qe+"api/certificate?pageno=".concat(e,"&pub=true");Ve()({headers:{Authorization:"Bearer ".concat(i.user_state.user.token)},method:"GET",url:n}).then((function(e){a("single_certs",e.data),t()})).catch((function(t){s(t)}))}))},VerifyCertificate:function(t,e){var i=t.rootState,a=t.commit;return new Promise((function(t,s){var n=Qe+"api/verify/"+e;Ve()({headers:{Authorization:"Bearer ".concat(i.user_state.user.token)},method:"GET",url:n}).then((function(e){var i=null;e.data.batch_id?(i=e.data,i.logo="".concat(Qe,"image/").concat(i.logo.image,"?mimetype=").concat(i.logo.mimetype),i.signature="".concat(Qe,"image/").concat(i.signature.image,"?mimetype=").concat(i.signature.mimetype)):(i=e.data,i.logo="data:".concat(i.logo.mimetype,";base64,").concat(i.logo.image),i.signature="data:".concat(i.signature.mimetype,";base64,").concat(i.signature.image)),a("updatecert",e.data),t()})).catch((function(t){s(t)}))}))},Create_Batch:function(t,e){var i=t.rootState;return new Promise((function(t,a){Ve()({headers:{Authorization:"Bearer ".concat(i.user_state.user.token)},url:Qe+"api/batch",method:"POST",data:e}).then((function(e){t(e)})).catch((function(t){a(t)}))}))},GetBatches:function(t,e){var i=t.commit,a=t.rootState;return new Promise((function(t,s){e||(e=1);var n=Qe+"api/batch?pageno="+e;Ve()({headers:{Authorization:"Bearer ".concat(a.user_state.user.token)},method:"GET",url:n}).then((function(e){i("batches",e.data),t()})).catch((function(t){s(t)}))}))},GetBatch:function(t,e){var i=t.commit,a=t.rootState;return new Promise((function(t,s){var n=null;n=e.edit?Qe+"api/batch/".concat(e.id,"?edit=").concat(e.edit):Qe+"api/batch/"+e.id,Ve()({headers:{Authorization:"Bearer ".concat(a.user_state.user.token)},method:"GET",url:n}).then((function(e){var a=e.data;a.logo="".concat(Qe,"image/").concat(a.logo),a.signature="".concat(Qe,"image/").concat(a.signature),i("updatecert",e.data),t(e.data.template_id)})).catch((function(t){s(t)}))}))},UpdateBatch:function(t,e){var i=t.rootState;return new Promise((function(t,a){Ve()({headers:{Authorization:"Bearer ".concat(i.user_state.user.token)},url:Qe+"api/batch/"+e.id,method:"PUT",data:e.form}).then((function(e){t(e)})).catch((function(t){a(t)}))}))},DelelteBatch:function(t,e){var i=t.rootState,a=t.commit;return new Promise((function(t,s){Ve()({headers:{Authorization:"Bearer ".concat(i.user_state.user.token)},url:Qe+"api/batch/"+e,method:"DELETE"}).then((function(i){a("DeleteBatch",e),t(i)})).catch((function(t){s(t)}))}))},CreateBatchCert:function(t,e){var i=t.rootState;return new Promise((function(t,a){Ve()({headers:{Authorization:"Bearer ".concat(i.user_state.user.token)},url:Qe+"api/bcert",method:"POST",data:e}).then((function(e){console.log(e.data),t()})).catch((function(t){a(t)}))}))},GetBatchCerts:function(t,e){var i=t.rootState,a=t.commit;return new Promise((function(t,s){e.pageno||(e.pageno=1);var n=Qe+"api/bcert/".concat(e.id,"?pageno=").concat(e.pageno);Ve()({headers:{Authorization:"Bearer ".concat(i.user_state.user.token)},method:"GET",url:n}).then((function(e){a("BatchCerts",e.data),t()})).catch((function(t){s(t)}))}))},UpdateBatchCert:function(t,e){var i=t.rootState,a=t.commit;return new Promise((function(t,s){Ve()({headers:{Authorization:"Bearer ".concat(i.user_state.user.token)},url:Qe+"api/bcert/",method:"PUT",data:e}).then((function(e){a("UpdateBatchCert",e.data),t()})).catch((function(t){s(t)}))}))},DeleteBatchCert:function(t,e){var i=t.rootState,a=t.commit;return new Promise((function(t,s){Ve()({headers:{Authorization:"Bearer ".concat(i.user_state.user.token)},url:Qe+"api/bcert/".concat(e.id,"/").concat(e.batch_id),method:"DELETE"}).then((function(i){a("DeleteBatchCert",e.id),console.log(i),t()})).catch((function(t){s(t)}))}))},viewBcert:function(t,e){var i=t.rootState,a=t.commit;return new Promise((function(t,s){e.pageno||(e.pageno=1);var n=Qe+"api/bcert/view/".concat(e.id,"/").concat(e.batch_id);Ve()({headers:{Authorization:"Bearer ".concat(i.user_state.user.token)},method:"GET",url:n}).then((function(e){var i=e.data;i.logo="".concat(Qe,"image/").concat(i.logo),i.signature="".concat(Qe,"image/").concat(i.signature),a("updatecert",i),t(e.data.template_id)})).catch((function(t){s(t)}))}))},PublishBatch:function(t,e){var i=t.rootState;return new Promise((function(t,a){Ve()({headers:{Authorization:"Bearer ".concat(i.user_state.user.token)},url:Qe+"api/publish/batch",method:"POST",data:{id:e}}).then((function(e){t(e)})).catch((function(t){a(t)}))}))},GetPublishBatches:function(t,e){var i=t.rootState,a=t.commit;return new Promise((function(t,s){e||(e=1);var n=Qe+"api/batch?pageno=".concat(e,"&pub=true");Ve()({headers:{Authorization:"Bearer ".concat(i.user_state.user.token)},method:"GET",url:n}).then((function(e){a("batches",e.data),t()})).catch((function(t){s(t)}))}))},GetPublishBatchCerts:function(t,e){var i=t.rootState,a=t.commit;return new Promise((function(t,s){e.pageno||(e.pageno=1);var n=Qe+"api/bcert/".concat(e.id,"?pageno=").concat(e.pageno,"&pub=true");Ve()({headers:{Authorization:"Bearer ".concat(i.user_state.user.token)},method:"GET",url:n}).then((function(e){a("BatchCerts",e.data),t()})).catch((function(t){s(t)}))}))}}},ti="https://certifis.herokuapp.com/",ei={namespaced:!0,state:{org:{},organizations:{list:null,totalcount:null},users:{list:[],totalcount:null}},mutations:{setorg:function(t,e){t.org=e},clearorg:function(t){t.org={}},organizations:function(t,e){t.organizations.list=e.list,e.totalcount&&(t.organizations.totalcount=e.totalcount)},ToggleOrgStatus:function(t,e){console.log(e,t.organizations)},OrgUsers:function(t,e){t.users.list=e.list,t.users.totalcount=e.totalcount},ClearUsers:function(t){t.users={list:[],totalcount:null}},UpdateUserLimit:function(t,e){t.org.user_limit=e}},actions:{GetOrgs:function(t,e){var i=t.rootState,a=t.commit;return new Promise((function(t,s){e||(e=1);var n=ti+"api/organization?pageno="+e;Ve()({headers:{Authorization:"Bearer ".concat(i.user_state.user.token)},method:"GET",url:n}).then((function(e){a("organizations",e.data),t()})).catch((function(t){s(t)}))}))},GetOrg:function(t,e){var i=t.rootState,a=t.commit;a("clearorg");var s=null;return s=e?ti+"api/organization/"+e:ti+"api/organization/details",new Promise((function(t,e){Ve()({headers:{Authorization:"Bearer ".concat(i.user_state.user.token)},method:"GET",url:s}).then((function(e){a("setorg",e.data),t()})).catch((function(t){e(t)}))}))},ToggleOrgStatus:function(t,e){var i=t.rootState,a=t.commit;return new Promise((function(t,s){Ve()({headers:{Authorization:"Bearer ".concat(i.user_state.user.token)},url:ti+"api/organization/togglestatus",method:"PUT",data:{id:e}}).then((function(){a("ToggleOrgStatus",e),t()})).catch((function(t){s(t)}))}))},RegisterOrg:function(t,e){var i=t.rootState;return new Promise((function(t,a){Ve()({headers:{Authorization:"Bearer ".concat(i.user_state.user.token)},url:ti+"api/organization",method:"POST",data:e}).then((function(){t()})).catch((function(t){a(t)}))}))},GetOrgUsers:function(t,e){var i=t.rootState,a=t.commit,s=null;return e.pageno||(e.pageno=1),s=e.id?ti+"api/users/".concat(e.id,"?pageno=").concat(e.pageno):ti+"api/users?pageno=".concat(e.pageno),new Promise((function(t,e){Ve()({headers:{Authorization:"Bearer ".concat(i.user_state.user.token)},method:"GET",url:s}).then((function(e){a("OrgUsers",e.data),t()})).catch((function(t){e(t)}))}))},SetUserLimit:function(t,e){var i=t.rootState,a=t.commit,s=t.state;return e.id||(e.id=s.org._id),new Promise((function(t,s){var n=ti+"api/organization/UserLimit/".concat(e.id);Ve()({headers:{Authorization:"Bearer ".concat(i.user_state.user.token)},url:n,method:"PUT",data:{count:e.count}}).then((function(){a("UpdateUserLimit",e.count),t()})).catch((function(t){s(t)}))}))}}},ii="https://certifis.herokuapp.com/",ai={namespaced:!0,state:{certcount:{date:null,Org_Id:null,count:null,currentcount:null},certhistory:{list:null,totalcount:null}},mutations:{ClearCountHistory:function(t){t.certhistory={list:null,totalcount:null}},certcount:function(t,e){t.certhistory.list=e.list,e.totalcount&&(t.certhistory.totalcount=e.totalcount)}},actions:{Getcounthistory:function(t,e){var i=t.rootState,a=t.commit;return new Promise((function(t,s){if(e.pagno||(e.pagno=1),e.id)var n=ii+"api/count/".concat(e.id,"?pageno=").concat(e.pageno);else n=ii+"api/count?pageno=".concat(e.pageno);Ve()({headers:{Authorization:"Bearer ".concat(i.user_state.user.token)},method:"GET",url:n}).then((function(e){a("certcount",e.data),t()})).catch((function(t){s(t)}))}))},AddCount:function(t,e){var i=t.rootState;if(e.id)var a=ii+"api/count/"+e.id;else a=ii+"api/count";return new Promise((function(t,s){Ve()({headers:{Authorization:"Bearer ".concat(i.user_state.user.token)},url:a,method:"PUT",data:{count:e.count}}).then((function(e){t(e)})).catch((function(t){s(t)}))}))}}};s["default"].use(v["a"]);var si=new v["a"].Store({state:{History:[],NewMessage:""},mutations:{AddToHistory:function(t,e){t.History.push(e)},RemoveFromHistory:function(t){t.History.pop()},NewMessage:function(t,e){t.NewMessage=e}},actions:{},modules:{user_state:Xe,cert_state:Ze,org_state:ei,certcount_state:ai}}),ni=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-fluid p-5",staticStyle:{"margin-top":"120px"}},[i("b-card",{staticClass:"shadow",attrs:{"no-body":""}},[i("b-card-body",[i("b-row",[i("div",{staticClass:"col-4"},[i("b-nav",{attrs:{tabs:""}},[i("b-nav-item",{attrs:{active:t.Display},on:{click:t.showsingle}},[t._v("Single Certificates")]),i("b-nav-item",{attrs:{active:!t.Display},on:{click:t.showbatch}},[t._v("Batch Certificates")])],1)],1),i("div",{staticClass:"col text-center"},[i("h3",{staticClass:"text-wb"},[t._v("CERTIFICATES")])]),i("div",{staticClass:"col text-left"})])],1)],1),i("div",{staticClass:"row mt-1"},[i("div",{staticClass:"col"},[t.Display?i("SingleCertificates"):i("batches")],1)])],1)},ri=[],oi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"shadow p-3"},[i("msgbox",{ref:"cf",on:{yes:t.publish}}),i("deletebox",{ref:"d1",on:{delete:t.del_cert}}),i("b-overlay",{attrs:{show:t.loading,rounded:"sm"},scopedSlots:t._u([{key:"overlay",fn:function(){return[i("div",{staticClass:"text-center"},[i("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Large Spinner"}}),i("p",{attrs:{id:"cancel-label"}},[t._v(t._s(t.loading_text))])],1)]},proxy:!0}])},[i("b-table",{attrs:{id:"SingleCertificateData",white:"",hover:"","sticky-header":"500px",responsive:"","no-border-collapse":"",items:this.single_certificates.list,fields:t.fields},scopedSlots:t._u([{key:"head(issue_date)",fn:function(e){return[i("filters",{staticClass:"d-inline",attrs:{search_label:"Enter Code"},on:{TextSearch:t.CodeSearch,DateSearch:t.DateSearch}}),i("span",{staticClass:"d-inline"},[t._v(t._s(e.label))])]}},{key:"cell(issue_date)",fn:function(e){return[t._v(" "+t._s(new Date(e.value).toLocaleString())+" ")]}},{key:"cell(expiry_date)",fn:function(e){return[""!=e.value?i("span",[t._v(" "+t._s(new Date(e.value).toLocaleDateString())+" ")]):i("span",[t._v("Life time")])]}},{key:"cell(issuedby)",fn:function(e){return[t._v(" "+t._s(e.value.issuer_name)+" ")]}},{key:"cell(Actions)",fn:function(e){return[i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"eye-fill"},on:{click:function(i){return t.view_Certificate(e.item._id)}}})],1),i("div",{staticClass:"col"},[i("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"pencil-square"},on:{click:function(i){return t.Edit_Certificate(e.item._id)}}})],1),i("div",{staticClass:"col"},[i("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"x-circle-fill"},on:{click:function(i){return t.delete_confirm(e.item._id)}}})],1)])]}},{key:"cell(Publish)",fn:function(e){return[i("button",{staticClass:"btn btn-wb",on:{click:function(i){return t.publish_confirm(e.item._id)}}},[t._v(" Publish ")])]}}])}),i("div",{staticClass:"d-flex justify-content-end"},[i("b-pagination",{attrs:{"total-rows":this.single_certificates.totalcount,"per-page":5,"aria-controls":"SingleCertificateData",pills:""},on:{change:t.page},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)},ci=[],li=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-modal",{attrs:{centered:"",id:"modalPopover","content-class":"shadow","hide-header":"",title:"Modal with Popover"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[i("button",{staticClass:"btn btn-wb",on:{click:t.cancel}},[t._v("Cancel")]),i("button",{staticClass:"btn btn-wb",on:{click:t.yes}},[t._v("Yes")])]},proxy:!0}]),model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[i("p",[t._v(t._s(t.msg))])])],1)},ui=[],di={name:"confirmbox",data:function(){return{msg:null,modalShow:!1,obj:null}},methods:{show:function(t,e){this.msg=t,e&&(this.obj=e),this.modalShow=!0},yes:function(){this.modalShow=!1,this.msg=null,this.obj?(this.$emit("yes",this.obj),this.obj=null):this.$emit("yes")},cancel:function(){this.modalShow=!1,this.$emit("cancel",this.obj),this.obj=null,this.msg=null}}},hi=di,mi=Object(f["a"])(hi,li,ui,!1,null,null,null),fi=mi.exports,pi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-modal",{attrs:{centered:"",id:"modalPopover","content-class":"shadow","hide-header":"",title:"Modal with Popover"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[i("button",{staticClass:"btn btn_gray",on:{click:t.close}},[t._v("Cancel")]),i("button",{staticClass:"btn btn_fr",on:{click:t.yes}},[t._v("Yes")])]},proxy:!0}]),model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[i("p",[t._v("Are Your sure you want to delete this certificate?")])])],1)},gi=[],vi={name:"delete_box",data:function(){return{modalShow:!1,del_id:null}},methods:{show:function(t){this.del_id=t,this.modalShow=!0},close:function(){this.modalShow=!1,this.del_id=null},yes:function(){this.$emit("delete",this.del_id),this.del_id=null}}},_i=vi,bi=Object(f["a"])(_i,pi,gi,!1,null,null,null),Ci=bi.exports,yi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-dropdown",{ref:"dropdown",staticClass:"m-2",attrs:{id:"dropdown-form",text:"Dropdown with form",variant:"link","toggle-class":"text-decoration-none","no-caret":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[i("b-icon",{attrs:{icon:"funnel-fill"}})]},proxy:!0}])},[i("b-dropdown-form",[i("b-form-group",{attrs:{label:"From Date","label-for":"from"}},[i("b-form-input",{attrs:{id:"from",type:"date",size:"sm",placeholder:"From Date"},model:{value:t.fromdate,callback:function(e){t.fromdate=e},expression:"fromdate"}})],1),i("b-form-group",{attrs:{label:"To Date","label-for":"to"}},[i("b-form-input",{attrs:{id:"to",type:"date",size:"sm",placeholder:"To Date"},model:{value:t.todate,callback:function(e){t.todate=e},expression:"todate"}})],1),i("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:t.datesearch}},[t._v("Search")])],1),i("b-dropdown-divider"),i("b-dropdown-form",[i("b-form-group",[i("label",{attrs:{for:""}},[t._v(t._s(t.search_label))]),i("div",{staticClass:"input-group ",staticStyle:{width:"200px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"form-control ",attrs:{type:"text",placeholder:t.search_label},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),i("div",{staticClass:"input-group-prepend"},[i("div",{staticClass:"input-group-text"},[i("b-icon",{attrs:{icon:"search"},on:{click:t.textsearch}})],1)])])])],1)],1)],1)},wi=[],xi={name:"daterange",props:["search_label"],data:function(){return{todate:"",fromdate:"",code:""}},methods:{datesearch:function(){this.$emit("DateSearch",{todate:this.todate,fromdate:this.fromdate})},textsearch:function(){this.$emit("TextSearch",this.code)}}},$i=xi,ki=Object(f["a"])($i,yi,wi,!1,null,null,null),Si=ki.exports,Pi={name:"SingleCertificates",mixins:[Oe],components:{filters:Si,deletebox:Ci,msgbox:fi},methods:{CodeSearch:function(t){console.log(t)},DateSearch:function(t){console.log(t)},page:function(t){var e=this;this.show_loader("Fetching..."),this.$store.dispatch("cert_state/GetSingleCertificates",t).then((function(){e.Hide_loader()})).catch((function(t){console.log(t)}))},delete_confirm:function(t){t?(this.$refs.d1.modalShow=!0,this.$refs.d1.del_id=t):(this.$refs.d1.modalShow=!1,this.$refs.d1.del_id=null)},AddHistory:function(){this.$store.commit("AddToHistory",{RouteName:this.$route.name,IsBatch:!1,PageNo:this.currentPage})},view_Certificate:function(t){this.AddHistory(),this.$router.push({name:"ViewCertificate",params:{id:t}})},Edit_Certificate:function(t){this.AddHistory(),this.$router.push({name:"Edit",params:{id:t,IsBatch:!1}})},del_cert:function(t){var e=this;this.delete_confirm(),this.show_loader("Deleting..."),this.$store.dispatch("cert_state/Delete_Certificate",t).then((function(t){console.log(t),e.Hide_loader()})).catch((function(t){console.log(t)}))},publish:function(t){var e=this;console.log(t),this.show_loader("Publishing..."),this.$store.dispatch("cert_state/Publish_Certificate",t).then((function(t){console.log(t),e.Hide_loader(),e.single_certificates.list.length>1?e.page(e.currentPage):1==e.single_certificates.list.length&&1==e.currentPage?e.page(1):(e.currentPage-=1,e.page(e.currentPage))})).catch((function(t){e.loading_text=t}))},publish_confirm:function(t){var e="Are you sure u want to publish this certificate";this.$refs.cf.show(e,t)}},data:function(){return{perPage:3,currentPage:1,fields:[{key:"issue_date",sortable:!0,class:"align-middle"},{key:"expiry_date",sortable:!0,class:"align-middle"},{key:"name",sortable:!0,class:"align-middle"},{key:"title",sortable:!0,class:"align-middle"},{key:"issuedby",sortable:!0,class:"align-middle"},{key:"Actions",class:"align-middle"},{key:"Publish",class:"align-middle"}]}},computed:Object(l["a"])({},Object(v["c"])("cert_state",["single_certificates"])),created:function(){var t=this,e=1;this.$route.query.PageNo&&(e=this.$route.query.PageNo),this.show_loader("Fetching..."),this.$store.dispatch("cert_state/GetSingleCertificates",e).then((function(){t.currentPage=e,t.Hide_loader()})).catch((function(t){console.log(t)}))}},Ai=Pi,Oi=Object(f["a"])(Ai,oi,ci,!1,null,null,null),ji=Oi.exports,Ei=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"shadow p-3"},[i("msgbox",{ref:"cf",on:{yes:t.publish}}),i("deletebox",{ref:"d1",on:{delete:t.del_batch}}),i("b-overlay",{attrs:{show:t.loading,rounded:"sm"},scopedSlots:t._u([{key:"overlay",fn:function(){return[i("div",{staticClass:"text-center"},[i("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Large Spinner"}}),i("p",{attrs:{id:"cancel-label"}},[t._v(t._s(t.loading_text))])],1)]},proxy:!0}])},[i("b-table",{attrs:{id:"BatchCertificateData",white:"",hover:"","sticky-header":"500px",responsive:"","no-border-collapse":"",items:t.batches.list,fields:t.fields},scopedSlots:t._u([{key:"head(created_date)",fn:function(e){return[i("filters",{staticClass:"d-inline",attrs:{search_label:"Enter Batch Name"},on:{TextSearch:t.NameSearch,DateSearch:t.DateSearch}}),i("span",{staticClass:"d-inline"},[t._v(t._s(e.label))])]}},{key:"cell(created_date)",fn:function(e){return[t._v(" "+t._s(new Date(e.value).toLocaleString())+" ")]}},{key:"cell(expiry_date)",fn:function(e){return[""!=e.value?i("span",[t._v(" "+t._s(new Date(e.value).toLocaleDateString())+" ")]):i("span",[t._v("Life time")])]}},{key:"cell(created_by)",fn:function(e){return[t._v(" "+t._s(e.item.createdby.name)+" ")]}},{key:"cell(Actions)",fn:function(e){return[i("div",{staticClass:"row"},[i("div",{staticClass:"col border-right"},[i("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"eye-fill"},on:{click:function(i){return t.ViewBatch(e.item._id)}}})],1),i("div",{staticClass:"col border-right"},[i("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"card-list"},on:{click:function(i){return t.Batchdetails(e.item._id)}}})],1),i("div",{staticClass:"col border-right"},[i("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"pencil-fill"},on:{click:function(i){return t.Edit_Batch(e.item._id)}}})],1),i("div",{staticClass:"col"},[i("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"x-circle-fill"},on:{click:function(i){return t.delete_confirm(e.item._id)}}})],1)])]}},{key:"cell(Publish)",fn:function(e){return[i("button",{staticClass:"btn btn-wb",on:{click:function(i){return t.publish_confirm(e.item._id)}}},[t._v(" Publish ")])]}}])}),i("div",{staticClass:"d-flex justify-content-end"},[i("b-pagination",{attrs:{"total-rows":t.batches.totalcount,"per-page":5,"aria-controls":"BatchCertificateData",pills:""},on:{change:t.page},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)},Bi=[],Di={methods:{delete_confirm:function(t){t?(this.$refs.d1.modalShow=!0,this.$refs.d1.del_id=t):(this.$refs.d1.modalShow=!1,this.$refs.d1.del_id=null)}}},Ii={name:"Batches",components:{filters:Si,deletebox:Ci,msgbox:fi},data:function(){return{currentPage:1,perPage:3,fields:[{key:"created_date",sortable:!0,class:"align-middle"},{key:"expiry_date",sortable:!0,class:"align-middle"},{key:"batch_name",sortable:!0,class:"align-middle"},{key:"title",sortable:!0,class:"align-middle"},{key:"created_by",sortable:!0,class:"align-middle"},{key:"Actions",class:"align-middle"},{key:"Publish",class:"align-middle"}]}},computed:Object(l["a"])({},Object(v["c"])("cert_state",["batches"])),methods:{NameSearch:function(t){console.log(t)},DateSearch:function(t){console.log(t)},Batchdetails:function(t){this.AddHistory(),this.$router.push({name:"BatchCerts",params:{id:t}})},AddHistory:function(){this.$store.commit("AddToHistory",{RouteName:this.$route.name,IsBatch:!0,PageNo:this.currentPage})},Edit_Batch:function(t){this.AddHistory(),this.$router.push({name:"Edit",params:{id:t,IsBatch:!0}})},del_batch:function(t){var e=this;this.delete_confirm(),this.show_loader("Deleting..."),this.$store.dispatch("cert_state/DelelteBatch",t).then((function(t){console.log(t),e.Hide_loader()})).catch((function(t){console.log(t)}))},page:function(t){var e=this;this.show_loader("Fetching..."),this.$store.dispatch("cert_state/GetBatches",t).then((function(){e.Hide_loader()})).catch((function(t){console.log(t)}))},ViewBatch:function(t){this.AddHistory(),this.$router.push({name:"ViewCertificate",params:{id:t},query:{IsBatch:!0}})},publish:function(t){var e=this;console.log(t),this.show_loader("Publishing..."),this.$store.dispatch("cert_state/PublishBatch",t).then((function(t){console.log(t),e.Hide_loader(),e.batches.list.length>1?e.page(e.currentPage):1==e.batches.list.length&&1==e.currentPage?e.page(1):(e.currentPage-=1,e.page(e.currentPage))})).catch((function(t){e.loading_text=t}))},publish_confirm:function(t){var e="Are you sure you want to publish this batch";this.$refs.cf.show(e,t)}},mixins:[Di,Oe],created:function(){var t=this,e=1;this.$route.query.PageNo&&(e=this.$route.query.PageNo),this.show_loader("Fetching..."),this.$store.dispatch("cert_state/GetBatches",e).then((function(){t.currentPage=e,t.Hide_loader()})).catch((function(t){console.log(t)}))}},qi=Ii,Ti=Object(f["a"])(qi,Ei,Bi,!1,null,null,null),zi=Ti.exports,Li={name:"CertificateView",components:{SingleCertificates:ji,Batches:zi},methods:{showsingle:function(){this.Display=!0},showbatch:function(){this.Display=!1}},data:function(){return{Display:!0}},created:function(){this.$store.commit("cert_state/ClearSingleCertificates"),this.$store.commit("cert_state/ClearBatches"),this.$store.commit("cert_state/ClearBatchCerts"),this.$route.query.IsBatch?this.showbatch():this.showsingle()}},Hi=Li,Ni=(i("cf45"),Object(f["a"])(Hi,ni,ri,!1,null,"1e8f29cf",null)),Ui=Ni.exports,Ri=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"margin-top":"120px"}},[i("div",{staticClass:"container-fluid p-5"},[i("b-card",{staticClass:"shadow",attrs:{"no-body":""}},[i("b-card-body",[i("b-row",[i("div",{staticClass:"col-4"}),i("div",{staticClass:"col text-center"},[i("h3",{staticClass:"text-wb"},[t._v("Organizations")])]),i("div",{staticClass:"col text-left"},[i("b-icon",{staticClass:"float-right",staticStyle:{cursor:"pointer"},attrs:{"font-scale":"2",icon:"plus-square-fill",id:"a1"},on:{click:t.RegisterOrg}}),i("b-tooltip",{attrs:{target:"a1",triggers:"hover"}},[t._v(" Register new organization ")])],1)])],1)],1),i("OrganizationsDetails")],1)])},Fi=[],Gi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"shadow p-3"},[i("confirmbox",{ref:"c1",on:{yes:t.ChangeStatus,cancel:t.CancelChangeStatus}}),i("b-overlay",{attrs:{show:t.loading,rounded:"sm"},scopedSlots:t._u([{key:"overlay",fn:function(){return[i("div",{staticClass:"text-center"},[i("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Large Spinner"}}),i("p",{attrs:{id:"cancel-label"}},[t._v(t._s(t.loading_text))])],1)]},proxy:!0}])},[i("b-table",{attrs:{id:"OrganizationData",white:"",hover:"","sticky-header":"500px",responsive:"","no-border-collapse":"",items:t.organizations.list,fields:t.fields},scopedSlots:t._u([{key:"head(register_date)",fn:function(e){return[i("filters",{staticClass:"d-inline",attrs:{search_label:"Enter Code"},on:{TextSearch:t.CodeSearch,DateSearch:t.DateSearch}}),i("span",{staticClass:"d-inline"},[t._v(t._s(e.label))])]}},{key:"cell(register_date)",fn:function(e){return[i("p",[t._v(t._s(new Date(e.value).toLocaleDateString()))])]}},{key:"cell(status)",fn:function(e){return[e.value?i("span",{staticClass:"badge badge-success"},[t._v("Active")]):i("span",{staticClass:"badge badge-danger"},[t._v("Disable")])]}},{key:"cell(Actions)",fn:function(e){return[i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"eye-fill",id:e.index+"f"}}),i("b-tooltip",{attrs:{target:e.index+"f",triggers:"hover"}},[t._v(" View organization's certificates ")])],1),i("div",{staticClass:"col"},[i("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"gear-fill",id:e.index+"s"},on:{click:function(i){return t.config(e.item._id)}}}),i("b-tooltip",{attrs:{target:e.index+"s",triggers:"hover"}},[t._v(" Config ")])],1),i("div",{staticClass:"col",attrs:{id:e.index+"t"}},[i("b-form-checkbox",{attrs:{switch:""},on:{change:function(i){return t.ConfirmChangeStatus(e.item)}},model:{value:e.item.status.active,callback:function(i){t.$set(e.item.status,"active",i)},expression:"data.item.status.active"}}),i("b-tooltip",{attrs:{target:e.index+"t",triggers:"hover"}},[e.item.status.active?i("span",[t._v("Enabled")]):i("span",[t._v("Disabled")])])],1)])]}}])}),i("div",{staticClass:"d-flex justify-content-end"},[i("b-pagination",{attrs:{"total-rows":this.organizations.totalcount,"per-page":5,"aria-controls":"OrganizationData",pills:""},on:{input:t.page},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)},Vi=[],Mi={name:"Organizations",mixins:[Oe],components:{filters:Si,confirmbox:fi},methods:{CodeSearch:function(t){console.log(t)},Send_OrgID:function(t){this.$router.push({name:"CertificateCount",params:{id:t}})},updatecert:function(t){this.$store.commit("certcount/getorg_id",t)},DateSearch:function(t){console.log(t)},page:function(t){var e=this;this.loading=!0,this.$store.dispatch("org_state/GetOrgs",t).then((function(){e.loading=!1})).catch((function(t){console.log(t)}))},view_Org:function(t){this.$router.push({name:"ViewOrg",params:{id:t}})},Edit_Org:function(t){this.$router.push({name:"ViewOrg",params:{id:t}})},config:function(t){this.$router.push("/organization/config/"+t)},ConfirmChangeStatus:function(t){t.status.active?this.$refs.c1.show("Are you sure you want to disable this organization",t):this.$refs.c1.show("Are you sure you want to enable this organization",t)},ChangeStatus:function(t){var e=this;this.$store.dispatch("org_state/ToggleOrgStatus",t._id).then((function(){})).catch((function(i){console.log(i),e.CancelChangeStatus(t)}))},CancelChangeStatus:function(t){t.status.active=!t.status.active}},data:function(){return{loading:!0,currentPage:1,fields:[{key:"register_date",sortable:!0,class:"align-middle"},{key:"name",sortable:!0,class:"align-middle"},{key:"email",sortable:!0,class:"align-middle"},{key:"ecertcount",sortable:!0,class:"align-middle"},{key:"status",sortable:!0,class:"align-middle"},{key:"Actions",class:"align-middle"}],status:[]}},computed:Object(l["a"])({},Object(v["c"])("org_state",["organizations"])),created:function(){var t=this;this.show_loader("Fetching..."),this.$store.dispatch("org_state/GetOrgs").then((function(){t.Hide_loader()})).catch((function(t){console.log(t)}))}},Wi=Mi,Ji=(i("4cc5"),Object(f["a"])(Wi,Gi,Vi,!1,null,null,null)),Yi=Ji.exports,Ki={name:"OrganizationsView",components:{OrganizationsDetails:Yi},methods:{RegisterOrg:function(){this.$router.push("register/organization")}}},Xi=Ki,Qi=Object(f["a"])(Xi,Ri,Fi,!1,null,null,null),Zi=Qi.exports,ta=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ea=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"margin-top":"120px"}},[i("img",{attrs:{src:"/404.webp",width:"50%",alt:""}})])}],ia={name:"notfound"},aa=ia,sa=Object(f["a"])(aa,ta,ea,!1,null,null,null),na=sa.exports,ra=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"margin-top":"120px"}},[i("h3",[t._v("Forbidden")]),i("button",{staticClass:"btn btn-dark",on:{click:function(e){return t.$router.push("/")}}},[t._v("Go Home")])])},oa=[],ca={name:"forbidden"},la=ca,ua=Object(f["a"])(la,ra,oa,!1,null,null,null),da=ua.exports,ha=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"margin-top":"120px"}},[i("b-overlay",{attrs:{show:t.loading,"no-wrap":"",rounded:"sm"},scopedSlots:t._u([{key:"overlay",fn:function(){return[i("div",{staticClass:"text-center"},[i("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Large Spinner"}}),i("p",{attrs:{id:"cancel-label"}},[t._v(t._s(t.loading_text))])],1)]},proxy:!0}])}),i("div",{staticClass:"container"},[i("div",{staticClass:"row shadow justify-content-between"},[i("div",{staticClass:"col d-flex align-self-center"},[i("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"arrow-left-circle","font-scale":"2"},on:{click:t.goback}})],1),i("div",{staticClass:"col"},[i("h1",[t._v(t._s(t.PageTitle))])]),i("div",{staticClass:"col d-flex justify-content-end"},[!t.IsBatch&&t.cert.publish&&t.cert.publish.status?i("a",{staticClass:"align-self-center text-dark",attrs:{href:t.url,target:"_blank"}},[i("b-icon",{attrs:{icon:"cloud-download","font-scale":"2"}})],1):t._e()])]),i("div",{staticClass:"row mt-5"},[i("div",{staticClass:"col d-flex justify-content-center"},[i(t.template,{tag:"component"})],1)]),t._m(0)])],1)},ma=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row mt-3"},[i("div",{staticClass:"col shadow"})])}],fa={computed:Object(l["a"])({},Object(v["c"])(["History"])),methods:{goback:function(){var t=this.History.length;if(t>0){var e=this.History[t-1];this.$store.commit("RemoveFromHistory"),e.params?this.$router.push({name:e.RouteName,params:e.params,query:{IsBatch:e.IsBatch,PageNo:e.PageNo}}):this.$router.push({name:e.RouteName,query:{IsBatch:e.IsBatch,PageNo:e.PageNo}})}else this.route.push(-1)}}},pa={name:"ViewCertificate",mixins:[Oe,fa,ce],props:["id","IsBatch","batch_id"],data:function(){return{url:null,template:null,fetching:!0,PageTitle:"View Certificates"}},computed:Object(l["a"])({},Object(v["c"])("cert_state",["cert"])),created:function(){var t=this;this.show_loader("Fetching...");var e=null,i={id:this.id,edit:!1};this.batch_id?(this.PageTitle="View Batch Certificate",e="cert_state/viewBcert",i={id:this.id,batch_id:this.batch_id},this.url=We+"download/".concat(this.id,"/").concat(this.batch_id)):this.$route.query.IsBatch?(this.PageTitle="View Batch",e="cert_state/GetBatch"):(this.PageTitle="View Certificate",e="cert_state/GetCertificate",this.url=We+"download/".concat(this.id)),this.$store.dispatch(e,i).then((function(e){t.template=e,t.Hide_loader()})).catch((function(t){console.log(t)}))}},ga=pa,va=Object(f["a"])(ga,ha,ma,!1,null,null,null),_a=va.exports,ba=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-fluid",staticStyle:{"margin-top":"120px"}},[i("b-overlay",{attrs:{show:t.loading,"no-wrap":"",rounded:"sm"},scopedSlots:t._u([{key:"overlay",fn:function(){return[i("div",{staticClass:"text-center"},[i("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Large Spinner"}}),i("p",{attrs:{id:"cancel-label"}},[t._v(t._s(t.loading_text))])],1)]},proxy:!0}])}),t.template?i("div",{staticClass:"row justify-content-center mb-2"},[i("div",{staticClass:"col-11 shadow p-2"},[i("b-icon",{staticClass:"h1 float-left",staticStyle:{cursor:"pointer"},attrs:{icon:"arrow-left-circle"},on:{click:t.goback}}),i("h1",{staticClass:"d-inline-block"},[t._v(t._s(t.PageTitle))]),i("b-dropdown",{staticClass:"d-d-inline-block float-right",attrs:{size:"lg",variant:"link","toggle-class":"text-decoration-none","no-caret":"",right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[i("b-icon",{attrs:{icon:"three-dots-vertical",variant:"dark","font-scale":"1"}})]},proxy:!0}],null,!1,1866295925)},[i("b-dropdown-item",{attrs:{href:"#"},on:{click:t.show_selector}},[t._v("Change Template")])],1)],1)]):t._e(),t.selector?i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("templateselector",{attrs:{edit:""},on:{select:t.select,close:t.close_selector}})],1)]):i("div",{staticClass:"row justify-content-center"},[i("div",{staticClass:"col-8 d-flex justify-content-center"},[i("div",{staticClass:"d-none d-md-block d-xl-block"},[i(t.template,{tag:"component"})],1)]),t.IsBatch&&t.template?i("div",[i("BatchInfo",{ref:"batch",attrs:{template_id:t.template,edit:""},on:{start:function(e){return t.show_loader("Updating...")},stop:t.Hide_loader}})],1):t.template?i("div",{staticClass:"col d-flex justify-content-center"},[i("CertificateInfo",{ref:"ct1",attrs:{template_id:t.template,edit:""},on:{start:function(e){return t.show_loader("Updating...")},stop:t.Hide_loader}})],1):t._e()])],1)},Ca=[],ya={name:"Edit",mixins:[Oe,fa],props:{id:String,IsBatch:Boolean},components:{CertificateInfo:rt,BatchInfo:ht,c1:zt,templateselector:Et},data:function(){return{PageTitle:null,template:null,select_variant:!1,selector:!1}},methods:{show_selector:function(){this.selector=!0},close_selector:function(){this.selector=!1},select:function(t){this.template=t,this.close_selector()}},created:function(){var t=this;this.show_loader("Fetching...");var e=null;this.IsBatch?(this.PageTitle="Edit Batch",e="cert_state/GetBatch"):(this.PageTitle="Edit Certificate",e="cert_state/GetCertificate"),this.$store.dispatch(e,{id:this.id,edit:!0}).then((function(e){t.template=e,t.Hide_loader()})).catch((function(){t.$router.push({name:"404"})}))}},wa=ya,xa=Object(f["a"])(wa,ba,Ca,!1,null,null,null),$a=xa.exports,ka=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-fluid p-5",staticStyle:{"margin-top":"120px"}},[i("cbox",{ref:"cf",on:{yes:function(e){return t.close_Add(!1)}}}),i("b-card",{staticClass:"shadow",attrs:{"no-body":""}},[i("b-card-body",[i("b-row",[i("div",{staticClass:"col text-center"},[i("b-icon",{staticClass:"float-left",staticStyle:{cursor:"pointer"},attrs:{icon:"arrow-left-circle","font-scale":"2"},on:{click:t.goback}}),i("h3",{staticClass:"d-inline-block"},[t._v("BATCH CERTIFICATES")]),t.Add?i("b-icon",{staticClass:"float-right",staticStyle:{cursor:"pointer"},attrs:{"font-scale":"2",icon:"x-circle-fill"},on:{click:function(e){return t.close_Add(!0)}}}):i("b-icon",{staticClass:"float-right",staticStyle:{cursor:"pointer"},attrs:{"font-scale":"2",icon:"plus-square-fill"},on:{click:t.Display_Add}})],1)]),t.batch_certs.batch?i("b-row",{staticClass:"justify-content-center"},[i("div",{staticClass:"col-12 col-lg-5 shadow m-2 p-2 text-center"},[i("b",[t._v("Batch Name:")]),t._v(" "+t._s(t.batch_certs.batch.batch_name)+" ")]),i("div",{staticClass:"col-12 col-lg-5 shadow m-2 p-2 text-center"},[i("b",[t._v("Certificate Title:")]),t._v(" "+t._s(t.batch_certs.batch.title)+" ")])]):t._e(),t.batch_certs.batch?i("b-row",{staticClass:"justify-content-center"},[i("div",{staticClass:"col-12 col-lg-5 shadow m-2 p-2 text-center"},[i("b",[t._v("Created Date:")]),t._v(" "+t._s(new Date(t.batch_certs.batch.created_date).toLocaleDateString())+" ")]),i("div",{staticClass:"col-12 col-lg-5 shadow m-2 p-2 text-center"},[i("b",[t._v("Created By:")]),t._v(" "+t._s(t.batch_certs.batch.createdby.name)+" ")])]):t._e()],1)],1),t.Add?i("AddBatchCerts"):i("div",{staticClass:"row mt-1"},[i("div",{staticClass:"col"},[i("BatchCerts")],1)])],1)},Sa=[],Pa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"shadow p-3"},[i("b-modal",{attrs:{centered:"",title:"Edit"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var a=e.cancel;return[i("button",{staticClass:"btn btn_gray",on:{click:function(t){return a()}}},[t._v("Cancel")]),i("button",{staticClass:"btn btn_fr",on:{click:t.SaveChanges}},[t._v("Save")])]}}]),model:{value:t.openedit,callback:function(e){t.openedit=e},expression:"openedit"}},[i("div",{staticClass:"form-group"},[i("label",[t._v("Name")]),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.edit_row.name.$model,expression:"$v.edit_row.name.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"Name"},domProps:{value:t.$v.edit_row.name.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.edit_row.name,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.$v.edit_row.name.$error?i("sub",{staticClass:"text-danger text-left"},[t._v(" Field is required ")]):t._e()]),i("div",{staticClass:"form-group"},[i("label",[t._v("Email")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.edit_row.email,expression:"edit_row.email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Email"},domProps:{value:t.edit_row.email},on:{input:function(e){e.target.composing||t.$set(t.edit_row,"email",e.target.value)}}}),t.$v.edit_row.email.required?t._e():i("sub",{staticClass:"text-danger text-left"},[t._v(" Field is required ")]),t.$v.edit_row.email.email?t._e():i("sub",{staticClass:"text-danger"},[t._v(" Not a valid email ")])])]),i("deletebox",{ref:"d1",on:{delete:t.del}}),i("b-overlay",{attrs:{show:t.loading,rounded:"sm"},scopedSlots:t._u([{key:"overlay",fn:function(){return[i("div",{staticClass:"text-center"},[i("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Large Spinner"}}),i("p",{attrs:{id:"cancel-label"}},[t._v(t._s(t.loading_text))])],1)]},proxy:!0}])},[i("b-table",{attrs:{id:"BatchDetail",white:"",hover:"","sticky-header":"500px",responsive:"","no-border-collapse":"",items:t.batch_certs.list,fields:t.fields},scopedSlots:t._u([{key:"cell(issue_date)",fn:function(e){return[t._v(" "+t._s(new Date(e.value).toLocaleString())+" ")]}},{key:"cell(Candidate_Name)",fn:function(e){return[i("p",[t._v(t._s(e.item.name))])]}},{key:"cell(Candidate_Email)",fn:function(e){return[t._v(" "+t._s(e.item.email)+" ")]}},{key:"cell(issued_by)",fn:function(e){return[t._v(" "+t._s(e.item.issuedby.name)+" ")]}},{key:"cell(Actions)",fn:function(e){return[i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"eye-fill"},on:{click:function(i){return t.view(e.item._id,e.item.batch_id)}}})],1),i("div",{staticClass:"col"},[i("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"pencil-fill"},on:{click:function(i){return t.edit(e.item)}}})],1),i("div",{staticClass:"col"},[i("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"x-circle-fill"},on:{click:function(i){return t.$refs.d1.show({id:e.item._id,batch_id:e.item.batch_id})}}})],1)])]}}])}),i("div",{staticClass:"d-flex justify-content-end"},[i("b-pagination",{attrs:{"total-rows":t.batch_certs.totalcount,"per-page":5,"aria-controls":"SingleCertificateData",pills:""},on:{change:t.page},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)},Aa=[],Oa={name:"BatchCerts",mixins:[Oe],components:{deletebox:Ci},data:function(){return{edit_row:{name:"",email:"",id:"",batch_id:""},openedit:!1,perPage:3,currentPage:1,fields:[{key:"issue_date",sortable:!0,class:"align-middle"},{key:"Candidate_Name",sortable:!0,class:"align-middle"},{key:"Candidate_Email",sortable:!0,class:"align-middle"},{key:"Issued_by",sortable:!0,class:"align-middle"},{key:"Actions",class:"align-middle"}]}},methods:{page:function(t){var e=this;console.log(t),this.show_loader("Fetching..."),this.$store.dispatch("cert_state/GetBatchCerts",{id:this.$route.params.id,pageno:t}).then((function(){e.Hide_loader()})).catch((function(t){console.log(t)}))},del:function(t){var e=this;this.$refs.d1.close(),this.show_loader("Deleting..."),this.$store.dispatch("cert_state/DeleteBatchCert",t).then((function(){e.Hide_loader()})).catch((function(t){e.loading_text=t}))},AddHistory:function(){this.$store.commit("AddToHistory",{RouteName:this.$route.name,PageNo:this.currentPage,params:{id:this.$route.params.id}})},view:function(t,e){this.AddHistory(),this.$router.push({name:"ViewCertificate",params:{id:t,batch_id:e}})},edit:function(t){t&&(this.openedit=!0,this.edit_row={name:t.name,email:t.email,id:t._id,batch_id:t.batch_id})},SaveChanges:function(){var t=this;this.openedit=!1,this.show_loader("Updating..."),this.$store.dispatch("cert_state/UpdateBatchCert",this.edit_row).then((function(){t.edit_row={name:"",email:"",id:"",batch_id:""},t.Hide_loader()})).catch((function(e){t.loading_text=e}))}},computed:Object(l["a"])({},Object(v["c"])("cert_state",["batch_certs"])),created:function(){var t=this,e=1;this.$route.query.PageNo&&(e=this.$route.query.PageNo),this.show_loader("Fetching..."),this.$store.dispatch("cert_state/GetBatchCerts",{id:this.$route.params.id,pageno:e}).then((function(){t.currentPage=e,t.Hide_loader()})).catch((function(t){console.log(t)}))},validations:{edit_row:{name:{required:it["required"]},email:{required:it["required"],email:it["email"]}}}},ja=Oa,Ea=Object(f["a"])(ja,Pa,Aa,!1,null,null,null),Ba=Ea.exports,Da=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("loader",{ref:"l1"}),i("div",{staticClass:"row justify-content-end"},[i("div",{staticClass:"col-1"},[i("excel",{staticClass:"d-inline",on:{load:t.load}}),i("b-button",{staticClass:"d-inline ml-2",attrs:{size:"sm",variant:"white"},on:{click:t.add}},[i("b-icon",{attrs:{"font-scale":"1.5",variant:"wb",icon:"plus-square-fill"}})],1)],1)]),i("b-table",{attrs:{bordered:"",hover:"","sticky-header":"400px",fields:t.fields,items:t.candidates},scopedSlots:t._u([{key:"head(index)",fn:function(e){return[i("span",{staticClass:"d-inline"},[t._v(t._s(e.label))])]}},{key:"cell(index)",fn:function(e){return[t._v(" "+t._s(e.index+1)+" ")]}},{key:"cell(name)",fn:function(e){return[i("input",{directives:[{name:"model",rawName:"v-model",value:t.candidates[e.index].name,expression:"candidates[data.index].name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.candidates[e.index].name},on:{input:function(i){i.target.composing||t.$set(t.candidates[e.index],"name",i.target.value)}}}),t.$v.candidates.$each[e.index].name.$error?i("sub",{staticClass:"text-danger text-left"},[t._v(" Field is required ")]):t._e()]}},{key:"cell(email)",fn:function(e){return[i("input",{directives:[{name:"model",rawName:"v-model",value:t.candidates[e.index].email,expression:"candidates[data.index].email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.candidates[e.index].email},on:{input:function(i){i.target.composing||t.$set(t.candidates[e.index],"email",i.target.value)}}}),t.$v.candidates.$each[e.index].email.$error?i("sub",{staticClass:"text-danger text-left"},[t._v(" Field is required ")]):t._e()]}},{key:"cell(actions)",fn:function(e){return[i("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"x-circle-fill"},on:{click:function(i){return t.del(e.index)}}})]}}])}),i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("button",{staticClass:"btn btn-block btn_fr",on:{click:t.submit}},[t._v("submit")])])])],1)},Ia=[],qa=(i("a434"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.file",modifiers:{file:!0}}],attrs:{variant:"white"}},[i("b-icon",{attrs:{variant:"wb",icon:"file-spreadsheet-fill"}})],1),i("b-modal",{attrs:{id:"file",title:"Open File","hide-footer":"",centered:"","no-close-on-backdrop":""}},[i("label",{staticClass:"btn btn-block btn-wb",attrs:{for:"ex"}},[t._v("Upload Excel File")]),i("input",{ref:"excel",attrs:{type:"file",id:"ex",hidden:""},on:{change:t.HandleFileUpload}}),i("b-table",{staticClass:"text-center",attrs:{striped:"",hover:"",items:t.sheetnames},scopedSlots:t._u([{key:"head(check)",fn:function(){return[i("span",[t._v("Include")])]},proxy:!0},{key:"cell(check)",fn:function(e){return[i("b-form-checkbox",{attrs:{value:!0,"unchecked-value":!1},model:{value:t.sheetnames[e.index].check,callback:function(i){t.$set(t.sheetnames[e.index],"check",i)},expression:"sheetnames[data.index].check"}})]}}])}),t.sheetnames.length>0?i("button",{staticClass:"btn btn-wb btn-block",attrs:{type:"button"},on:{click:t.load}},[t._v(" Load Table ")]):t._e()],1)],1)}),Ta=[],za=i("1146"),La=i.n(za),Ha={name:"excel",data:function(){return{sheetnames:[],sheets:[],namecol:null,email:null}},methods:{HandleFileUpload:function(t){var e=this;if(this.$refs.excel.files.length>0){var i=t.target.files[0],a=new FileReader;a.onload=function(t){var i=t.target.result,a=La.a.read(i,{type:"binary"});e.BuildSheetsList(a.SheetNames),e.sheets=a.Sheets},a.onerror=function(t){console.error("File could not be read! Code "+t.target.error.code)},a.readAsBinaryString(i)}},BuildSheetsList:function(t){this.sheetnames=[];for(var e=0;e<t.length;e++)this.sheetnames.push({check:!1,name:t[e]})},load:function(){for(var t=[],e=0;e<this.sheetnames.length;e++)if(this.sheetnames[e].check)for(var i=La.a.utils.sheet_to_json(this.sheets[this.sheetnames[e].name]),a=0;a<i.length;a++)t.push({name:i[a].Name,email:i[a].Email});this.$emit("load",t),this.$bvModal.hide("file")}}},Na=Ha,Ua=Object(f["a"])(Na,qa,Ta,!1,null,null,null),Ra=Ua.exports,Fa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-overlay",{attrs:{show:t.loading,"no-wrap":"",rounded:"sm"},scopedSlots:t._u([{key:"overlay",fn:function(){return[i("div",{staticClass:"text-center"},[i("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Large Spinner"}}),i("p",{attrs:{id:"cancel-label"}},[t._v(t._s(t.loading_text))])],1),t._t("default")]},proxy:!0}],null,!0)})],1)},Ga=[],Va={name:"loader",data:function(){return{loading:!1,loading_text:null}},methods:{show_loader:function(t){this.loading_text=t,this.loading=!0},Hide_loader:function(){this.loading=!1}}},Ma=Va,Wa=Object(f["a"])(Ma,Fa,Ga,!1,null,null,null),Ja=Wa.exports,Ya={components:{excel:Ra,loader:Ja},name:"AddBatchCert",data:function(){return{fields:[{key:"index",class:"text-center"},{key:"name",class:"text-center"},{key:"email",class:"text-center"},{key:"Actions",class:"text-center"}],candidates:[{name:"",email:""}]}},mixins:[Oe],methods:{add:function(){this.candidates.push({name:"",email:""})},remove:function(){this.candidates.pop()},del:function(t){this.candidates.splice(t,1)},submit:function(){var t=this;this.$v.$touch(),this.$v.$invalid||(this.$refs.l1.show_loader("Processing..."),this.$store.dispatch("cert_state/CreateBatchCert",{data:this.candidates,batch_id:this.$route.params.id}).then((function(e){t.candidates=[],console.log(e),t.$refs.l1.Hide_loader("Processing...")})).catch((function(t){console.log(t)})))},load:function(t){console.log(t[0]),this.candidates=t}},validations:{candidates:{required:it["required"],minLength:Object(it["minLength"])(1),$each:{name:{required:it["required"]},email:{required:it["required"]}}}}},Ka=Ya,Xa=Object(f["a"])(Ka,Da,Ia,!1,null,null,null),Qa=Xa.exports,Za={name:"BatchCertificates",props:["id"],mixins:[fa],components:{BatchCerts:Ba,AddBatchCerts:Qa,cbox:fi},computed:Object(l["a"])({},Object(v["c"])("cert_state",["batch_certs"])),data:function(){return{Add:!1,select_variant:!1}},methods:{Display_Add:function(){this.Add=!0},close_Add:function(t){t?this.$refs.cf.show("Are you sure you want to close this window?"):this.Add=!1}}},ts=Za,es=Object(f["a"])(ts,ka,Sa,!1,null,null,null),is=es.exports,as=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-fluid p-5",staticStyle:{"margin-top":"120px"}},[i("b-card",{staticClass:"shadow",attrs:{"no-body":""}},[i("b-card-body",[i("b-row",[i("div",{staticClass:"col-4"},[i("b-nav",{attrs:{tabs:""}},[i("b-nav-item",{attrs:{active:t.Display},on:{click:t.showsingle}},[t._v("Single Certificates")]),i("b-nav-item",{attrs:{active:!t.Display},on:{click:t.showbatch}},[t._v("Batch Certificates")])],1)],1),i("div",{staticClass:"col text-center"},[i("h3",{staticClass:"text-wb"},[t._v("PUBLICATIONS")])]),i("div",{staticClass:"col text-left"})])],1)],1),i("div",{staticClass:"row mt-1"},[i("div",{staticClass:"col"},[t.Display?i("SinglePublication"):i("BatchPublication")],1)])],1)},ss=[],ns=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"shadow p-3"},[i("b-overlay",{attrs:{show:t.loading,rounded:"sm"},scopedSlots:t._u([{key:"overlay",fn:function(){return[i("div",{staticClass:"text-center"},[i("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Large Spinner"}}),i("p",{attrs:{id:"cancel-label"}},[t._v(t._s(t.loading_text))])],1)]},proxy:!0}])},[i("b-table",{attrs:{id:"SingleCertificateData",white:"",hover:"","sticky-header":"500px",responsive:"","no-border-collapse":"",items:this.batches.list,fields:t.fields},scopedSlots:t._u([{key:"head(publish_date)",fn:function(e){return[i("filters",{staticClass:"d-inline",attrs:{search_label:"Enter Code"},on:{TextSearch:t.CodeSearch,DateSearch:t.DateSearch}}),i("span",{staticClass:"d-inline"},[t._v(t._s(e.label))])]}},{key:"cell(publish_date)",fn:function(e){return[t._v(" "+t._s(new Date(e.item.publish.publish_date).toLocaleDateString())+" ")]}},{key:"cell(expiry_date)",fn:function(e){return[""!=e.value?i("span",[t._v(" "+t._s(new Date(e.value).toLocaleDateString())+" ")]):i("p",[t._v("Life time")])]}},{key:"cell(publish_by)",fn:function(e){return[t._v(" "+t._s(e.item.publish.publisher_name)+" ")]}},{key:"cell(Actions)",fn:function(e){return[i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"card-list",id:e.index+"f"},on:{click:function(i){return t.Batchdetails(e.item._id)}}}),i("b-tooltip",{attrs:{target:e.index+"f",triggers:"hover"}},[t._v(" View batch detail ")])],1)])]}}])}),i("div",{staticClass:"d-flex justify-content-end"},[i("b-pagination",{attrs:{"total-rows":this.batches.totalcount,"per-page":5,pills:""},on:{input:t.page},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)},rs=[],os={name:"BatchPublication",mixins:[Oe],components:{filters:Si},computed:Object(l["a"])({},Object(v["c"])("cert_state",["batches"])),data:function(){return{perPage:3,currentPage:1,fields:[{key:"publish_date",sortable:!0,class:"align-middle"},{key:"expiry_date",sortable:!0,class:"align-middle"},{key:"batch_name",sortable:!0,class:"align-middle"},{key:"title",sortable:!0,class:"align-middle"},{key:"publish_by",sortable:!0,class:"align-middle"},{key:"Actions",class:"align-middle"}]}},methods:{page:function(t){var e=this;this.show_loader("Fetching..."),this.$store.dispatch("cert_state/GetPublishBatches",t).then((function(){e.Hide_loader()})).catch((function(t){console.log(t)}))},AddHistory:function(){this.$store.commit("AddToHistory",{RouteName:this.$route.name,IsBatch:!0,PageNo:this.currentPage})},Batchdetails:function(t){this.AddHistory(),this.$router.push({name:"BCP_VIEW",params:{id:t}})},CodeSearch:function(){},DateSearch:function(){}},created:function(){var t=this;this.show_loader("Fetching..."),this.$store.dispatch("cert_state/GetPublishBatches").then((function(){t.Hide_loader()})).catch((function(t){console.log(t)}))}},cs=os,ls=Object(f["a"])(cs,ns,rs,!1,null,null,null),us=ls.exports,ds=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"shadow p-3"},[i("b-overlay",{attrs:{show:t.loading,rounded:"sm"},scopedSlots:t._u([{key:"overlay",fn:function(){return[i("div",{staticClass:"text-center"},[i("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Large Spinner"}}),i("p",{attrs:{id:"cancel-label"}},[t._v(t._s(t.loading_text))])],1)]},proxy:!0}])},[i("b-table",{attrs:{id:"SingleCertificateData",white:"",hover:"","sticky-header":"500px",responsive:"","no-border-collapse":"",items:this.single_certificates.list,fields:t.fields},scopedSlots:t._u([{key:"head(publish_date)",fn:function(e){return[i("filters",{staticClass:"d-inline",attrs:{search_label:"Enter Code"},on:{TextSearch:t.CodeSearch,DateSearch:t.DateSearch}}),i("span",{staticClass:"d-inline"},[t._v(t._s(e.label))])]}},{key:"cell(publish_date)",fn:function(e){return[t._v(" "+t._s(new Date(e.item.publish.publish_date).toLocaleDateString())+" ")]}},{key:"cell(expiry_date)",fn:function(e){return[""!=e.value?i("span",[t._v(" "+t._s(new Date(e.value).toLocaleDateString())+" ")]):i("span",[t._v("Life time")])]}},{key:"cell(publish_by)",fn:function(e){return[t._v(" "+t._s(e.item.publish.publisher_name)+" ")]}},{key:"cell(Actions)",fn:function(e){return[i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"eye-fill",id:e.index+"f"},on:{click:function(i){return t.view_Certificate(e.item._id)}}}),i("b-tooltip",{attrs:{target:e.index+"f",triggers:"hover"}},[t._v(" View ")])],1),i("div",{staticClass:"col"},[i("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"envelope-fill",id:e.index+"s"},on:{click:function(i){return t.email(e.item._id)}}}),i("b-tooltip",{attrs:{target:e.index+"s",triggers:"hover"}},[t._v(" Email Certificate ")])],1)])]}}])}),i("div",{staticClass:"d-flex justify-content-end"},[i("b-pagination",{attrs:{"total-rows":this.single_certificates.totalcount,"per-page":5,"aria-controls":"SingleCertificateData",pills:""},on:{change:t.page},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)},hs=[],ms={name:"SinglePublication",mixins:[Oe],components:{filters:Si},computed:Object(l["a"])({},Object(v["c"])("cert_state",["single_certificates"])),data:function(){return{perPage:3,currentPage:1,fields:[{key:"publish_date",sortable:!0,class:"align-middle"},{key:"expiry_date",sortable:!0,class:"align-middle"},{key:"name",sortable:!0,class:"align-middle"},{key:"title",sortable:!0,class:"align-middle"},{key:"publish_by",sortable:!0,class:"align-middle"},{key:"Actions",class:"align-middle"}]}},methods:{page:function(t){var e=this;this.show_loader("Fetching..."),this.$store.dispatch("cert_state/GetPublishCertificates",t).then((function(){e.Hide_loader()})).catch((function(t){console.log(t)}))},AddHistory:function(){this.$store.commit("AddToHistory",{RouteName:this.$route.name,IsBatch:!1,PageNo:this.currentPage})},view_Certificate:function(t){this.AddHistory(),this.$router.push({name:"ViewCertificate",params:{id:t}})},email:function(t){console.log(t)},CodeSearch:function(){},DateSearch:function(){}},created:function(){var t=this;this.show_loader("Fetching...");var e=1;this.$route.query.PageNo&&(e=this.$route.query.PageNo),this.$store.dispatch("cert_state/GetPublishCertificates",e).then((function(){t.currentPage=e,t.Hide_loader()})).catch((function(t){console.log(t)}))}},fs=ms,ps=Object(f["a"])(fs,ds,hs,!1,null,null,null),gs=ps.exports,vs={name:"publish",components:{BatchPublication:us,SinglePublication:gs},data:function(){return{Display:!0}},methods:{showsingle:function(){this.Display=!0},showbatch:function(){this.Display=!1}},created:function(){this.$store.commit("cert_state/ClearSingleCertificates"),this.$store.commit("cert_state/ClearBatches"),this.$store.commit("cert_state/ClearBatchCerts"),this.$route.query.IsBatch?this.showbatch():this.showsingle()}},_s=vs,bs=(i("4ecc"),Object(f["a"])(_s,as,ss,!1,null,"34162f70",null)),Cs=bs.exports,ys=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-fluid p-5",staticStyle:{"margin-top":"120px"}},[i("b-card",{staticClass:"shadow",attrs:{"no-body":""}},[i("b-card-body",[i("b-row",[i("div",{staticClass:"col text-center"},[i("b-icon",{staticClass:"float-left",staticStyle:{cursor:"pointer"},attrs:{icon:"arrow-left-circle","font-scale":"2"},on:{click:t.goback}}),i("h3",{staticClass:"d-inline-block"},[t._v("BATCH CERTIFICATES")])],1)]),t.batch_certs.batch?i("b-row",{staticClass:"justify-content-center"},[i("div",{staticClass:"col-12 col-lg-5 shadow m-2 p-2 text-center"},[i("b",[t._v("Batch Name:")]),t._v(" "+t._s(t.batch_certs.batch.batch_name)+" ")]),i("div",{staticClass:"col-12 col-lg-5 shadow m-2 p-2 text-center"},[i("b",[t._v("Certificate Title:")]),t._v(" "+t._s(t.batch_certs.batch.title)+" ")])]):t._e(),t.batch_certs.batch?i("b-row",{staticClass:"justify-content-center"},[i("div",{staticClass:"col-12 col-lg-5 shadow m-2 p-2 text-center"},[i("b",[t._v("Publish Date:")]),t._v(" "+t._s(new Date(t.batch_certs.batch.publish.publish_date).toLocaleDateString())+" ")]),i("div",{staticClass:"col-12 col-lg-5 shadow m-2 p-2 text-center"},[i("b",[t._v("PublishBy:")]),t._v(" "+t._s(t.batch_certs.batch.publish.publisher_name)+" ")])]):t._e()],1)],1),i("div",{staticClass:"row mt-1"},[i("div",{staticClass:"col"},[i("BatchCertsPublication")],1)])],1)},ws=[],xs=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"shadow p-3"},[i("b-overlay",{attrs:{show:t.loading,rounded:"sm"},scopedSlots:t._u([{key:"overlay",fn:function(){return[i("div",{staticClass:"text-center"},[i("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Large Spinner"}}),i("p",{attrs:{id:"cancel-label"}},[t._v(t._s(t.loading_text))])],1)]},proxy:!0}])},[i("b-table",{attrs:{white:"",hover:"","sticky-header":"500px",responsive:"","no-border-collapse":"",items:t.batch_certs.list,fields:t.fields},scopedSlots:t._u([{key:"cell(issue_date)",fn:function(e){return[t._v(" "+t._s(new Date(e.value).toLocaleString())+" ")]}},{key:"cell(Candidate_Name)",fn:function(e){return[i("p",[t._v(t._s(e.item.name))])]}},{key:"cell(Candidate_Email)",fn:function(e){return[t._v(" "+t._s(e.item.email)+" ")]}},{key:"cell(Actions)",fn:function(e){return[i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"eye-fill",id:e.index+"f"},on:{click:function(i){return t.view(e.item._id,e.item.batch_id)}}}),i("b-tooltip",{attrs:{target:e.index+"f",triggers:"hover"}},[t._v(" Verify certificate ")])],1),i("div",{staticClass:"col"},[i("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"check-circle-fill",id:e.index+"s"},on:{click:function(i){return t.verify(e.item._id)}}}),i("b-tooltip",{attrs:{target:e.index+"s",triggers:"hover"}},[t._v(" Verify certificate ")])],1)])]}}])}),i("div",{staticClass:"d-flex justify-content-end"},[i("b-pagination",{attrs:{"total-rows":t.batch_certs.totalcount,"per-page":5,"aria-controls":"SingleCertificateData",pills:""},on:{change:t.page},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)},$s=[],ks={name:"BCP_Comp",mixins:[Oe],data:function(){return{perPage:3,currentPage:1,fields:[{key:"Candidate_Name",sortable:!0,class:"align-middle"},{key:"Candidate_Email",sortable:!0,class:"align-middle"},{key:"Actions",class:"align-middle"}]}},methods:{page:function(t){var e=this;console.log(t),this.show_loader("Fetching..."),this.$store.dispatch("cert_state/GetPublishBatchCerts",{id:this.$route.params.id,pageno:t}).then((function(){e.Hide_loader()})).catch((function(t){console.log(t)}))},AddHistory:function(){this.$store.commit("AddToHistory",{RouteName:this.$route.name,PageNo:this.currentPage,params:{id:this.$route.params.id}})},view:function(t,e){this.AddHistory(),this.$router.push({name:"ViewCertificate",params:{id:t,batch_id:e}})}},computed:Object(l["a"])({},Object(v["c"])("cert_state",["batch_certs"])),created:function(){var t=this,e=1;this.$route.query.PageNo&&(e=this.$route.query.PageNo),this.show_loader("Fetching..."),this.$store.dispatch("cert_state/GetPublishBatchCerts",{id:this.$route.params.id,pageno:1}).then((function(){t.currentPage=e,t.Hide_loader()})).catch((function(t){console.log(t)}))}},Ss=ks,Ps=Object(f["a"])(Ss,xs,$s,!1,null,null,null),As=Ps.exports,Os={name:"BCP_VIEW",props:["id"],mixins:[fa],components:{BatchCertsPublication:As},computed:Object(l["a"])({},Object(v["c"])("cert_state",["batch_certs"]))},js=Os,Es=Object(f["a"])(js,ys,ws,!1,null,null,null),Bs=Es.exports,Ds=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container vh-100"},[i("div",{staticClass:"row h-100"},[i("div",{staticClass:"col d-flex justify-content-center align-self-center"},[i("Register")],1)])])},Is=[],qs=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"w-100"},[i("confirm",{ref:"c1",on:{yes:function(e){return t.$router.go(-1)}}}),i("confirm",{ref:"c2",on:{yes:t.RegisterOrg}}),i("div",{staticClass:"row justify-content-center"},[i("div",{staticClass:"col-lg-6 col-md-8 col-sm-12 col-10 shadow p-3"},[i("b-overlay",{attrs:{show:t.loading,rounded:"sm","no-wrap":""},scopedSlots:t._u([{key:"overlay",fn:function(){return[i("div",{staticClass:"text-center"},[i("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Large Spinner"}}),i("p",{attrs:{id:"cancel-label"}},[t._v(t._s(t.loading_text))])],1)]},proxy:!0}])}),i("div",[i("b-icon",{staticClass:"float-left",staticStyle:{cursor:"pointer"},attrs:{icon:"arrow-left-circle","font-scale":"2"},on:{click:t.goback}}),i("h3",[t._v(t._s(t.Title))])],1),i("form",[i("div",{staticClass:"form-group text-left"},[t._m(0),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.org.name.$model,expression:"$v.org.name.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"CERTIFIS"},domProps:{value:t.$v.org.name.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.org.name,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.$v.org.name.$error?i("sub",{staticClass:"text-danger text-left"},[t._v(" Field is required ")]):t._e()]),i("div",{staticClass:"form-group text-left"},[t._m(1),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.org.email.$model,expression:"$v.org.email.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"mail@certifis.cf"},domProps:{value:t.$v.org.email.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.org.email,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.$v.org.email.$error&&!t.$v.org.email.required?i("sub",{staticClass:"text-danger text-left"},[t._v(" Field is required ")]):t._e(),t.$v.org.email.email?t._e():i("sub",{staticClass:"text-danger"},[t._v(" Not a valid email ")])])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col text-right"},[i("button",{staticClass:"btn btn_fr btn-block",on:{click:t.confirm_submit}},[t._v(" Register Organization ")])])])],1)])],1)},Ts=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",[i("sup",{staticClass:"text-danger"},[t._v("*")]),t._v(" Organization Name")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",[i("sup",{staticClass:"text-danger"},[t._v("*")]),t._v("Organization Email")])}],zs={name:"RegisterOrganization",mixins:[Oe],data:function(){return{Title:"Organization Registeration",org:{name:null,email:null}}},methods:{goback:function(){this.$refs.c1.show("Are you sure you want to cancel registeration process?")},confirm_submit:function(){this.$v.$touch(),this.$v.$invalid||this.$refs.c2.show("Are you sure you want to submit the form?")},RegisterOrg:function(){var t=this;this.$v.$touch(),this.$v.$invalid||(this.show_loader("Processing..."),this.$store.dispatch("org_state/RegisterOrg",this.org).then((function(){t.org={id:null,name:null,email:null},t.user={name:null,email:null,password:null},t.Hide_loader(),t.$router.push("/organizations")})).catch((function(t){console.log(t)})))}},components:{confirm:fi},validations:{org:{name:{required:it["required"]},email:{required:it["required"],email:it["email"]}}}},Ls=zs,Hs=Object(f["a"])(Ls,qs,Ts,!1,null,null,null),Ns=Hs.exports,Us={name:"RegisterOrganization",components:{Register:Ns}},Rs=Us,Fs=Object(f["a"])(Rs,Ds,Is,!1,null,null,null),Gs=Fs.exports,Vs=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"margin-top":"120px"}},[i("b-iconstack",{staticClass:"position-fixed mr-auto",staticStyle:{left:"-22px",top:"50%"},attrs:{"font-scale":"4"},on:{mouseover:function(e){t.Display=!0}}},[i("b-icon",{staticClass:"bg-primary",attrs:{stacked:"",icon:"chevron-compact-right",variant:"wb",scale:"0.75"}}),i("b-icon",{attrs:{stacked:"",icon:"circle",variant:"wb","shift-h":"-3"}})],1),i("b-sidebar",{attrs:{id:"sidebar-1","body-class":"bg-wb","header-class":"bg-wb","text-variant":"white",title:"UIT Config","backdrop-variant":"dark",backdrop:"",shadow:""},model:{value:t.Display,callback:function(e){t.Display=e},expression:"Display"}},[i("div",{staticClass:"p-3"},[i("div",{directives:[{name:"b-hover",rawName:"v-b-hover",value:t.handleHover1,expression:"handleHover1"}],staticClass:"p-2 mt-3 text-white border-bottom border-white",class:t.isHovered1?"bg-secondary":"",staticStyle:{cursor:"pointer"},on:{click:t.OpenCertCount}},[i("b-icon",{staticClass:"float-left",attrs:{icon:"file-earmark-plus-fill","font-scale":"1.5",variant:"white"}}),i("h5",[t._v("Certificate Count")])],1),i("div",{directives:[{name:"b-hover",rawName:"v-b-hover",value:t.handleHover2,expression:"handleHover2"}],staticClass:"p-2 mt-3 text-white border-bottom border-white",class:t.isHovered2?"bg-secondary":"",on:{click:t.OpenUser}},[i("b-icon",{staticClass:"float-left",attrs:{icon:"person-lines-fill","font-scale":"1.5",variant:"white"}}),i("h5",{staticClass:"d-inline-block"},[t._v("User Management")])],1),i("div",{directives:[{name:"b-hover",rawName:"v-b-hover",value:t.handleHover3,expression:"handleHover3"}],staticClass:"p-2 mt-3 text-white border-bottom border-white",class:t.isHovered3?"bg-secondary":""},[i("b-icon",{staticClass:"float-left",attrs:{icon:"info-square-fill","font-scale":"1.5",variant:"white"}}),i("h5",{staticClass:"d-inline-block"},[t._v("Basic Info")])],1)])]),i("div",{staticClass:"p-3 shadow m-5"},[i("h3",{staticClass:"text-wb"},[t._v(t._s(t.org.name)+"'s Config")])]),i(t.currentpage,{tag:"component",attrs:{id:t.id}})],1)},Ms=[],Ws=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("b-modal",{attrs:{id:"modal-1","hide-footer":"",centered:"",title:"IncreaseCount"}},[i("AddCertCount",{attrs:{id:t.id},on:{Inserted:t.RefreshHistory}})],1),i("div",{staticClass:"shadow p-3"},[i("h3",{staticClass:"d-inline-block text-wb"},[t._v("Count History")]),t.Authorization.SuperAdmin?i("b-icon",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],staticClass:"float-right",staticStyle:{cursor:"pointer"},attrs:{"font-scale":"2",icon:"plus-square-fill",id:"a1",variant:"wb"}}):t._e(),i("b-tooltip",{attrs:{target:"a1",triggers:"hover"}},[t._v(" Increase certificate count ")])],1),i("CertCount",{ref:"h1",attrs:{id:t.id}})],1)},Js=[],Ys=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"shadow p-3"},[i("b-overlay",{attrs:{show:t.loading,rounded:"sm"},scopedSlots:t._u([{key:"overlay",fn:function(){return[i("div",{staticClass:"text-center"},[i("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Large Spinner"}}),i("p",{attrs:{id:"cancel-label"}},[t._v(t._s(t.loading_text))])],1)]},proxy:!0}])},[i("b-table",{attrs:{id:"CertCountData",white:"",hover:"",fixed:"",responsive:"","no-border-collapse":"",items:t.certhistory.list,fields:t.fields},scopedSlots:t._u([{key:"head(date)",fn:function(e){return[i("filters",{staticClass:"d-inline",attrs:{search_label:"Enter Code"},on:{TextSearch:t.CodeSearch,DateSearch:t.DateSearch}}),i("span",{staticClass:"d-inline"},[t._v(t._s(e.label))])]}},{key:"cell(date)",fn:function(e){return[i("p",[t._v(t._s(new Date(e.value).toLocaleString()))])]}}])}),i("div",{staticClass:"d-flex justify-content-end"},[i("b-pagination",{attrs:{"total-rows":this.certhistory.totalcount,"per-page":5,"aria-controls":"CertCountData",pills:""},on:{change:t.page},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)},Ks=[],Xs={name:"CertCount",props:["id"],mixins:[Oe],components:{filters:Si},methods:{CodeSearch:function(t){console.log(t)},DateSearch:function(t){console.log(t)},page:function(t){var e=this;this.show_loader("Fetching..."),this.$store.dispatch("certcount_state/Getcounthistory",{id:this.id,pageno:t}).then((function(){e.Hide_loader()})).catch((function(t){console.log(t)}))},delete_count:function(t){this.$router.push({name:"deleteCount",params:{id:t}})}},data:function(){return{loading:!0,currentPage:1,fields:[{key:"date",sortable:!0,class:"align-middle"},{key:"Count",sortable:!0,class:"align-middle"}]}},computed:Object(l["a"])({},Object(v["c"])("certcount_state",["certhistory"])),created:function(){var t=this;this.show_loader("Fetching..."),this.$store.commit("certcount_state/ClearCountHistory"),this.$store.dispatch("certcount_state/Getcounthistory",{id:this.id,pageno:1}).then((function(){t.Hide_loader()})).catch((function(t){console.log(t)}))}},Qs=Xs,Zs=Object(f["a"])(Qs,Ys,Ks,!1,null,null,null),tn=Zs.exports,en=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"form-group text-left"},[t._m(0),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.count.$model,expression:"$v.count.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"number",placeholder:"Count"},domProps:{value:t.$v.count.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.count,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.$v.count.$error?i("sub",{staticClass:"text-danger"},[t._v(" Field is required ")]):t._e()]),i("button",{staticClass:"btn btn-dark btn-block mt-5",attrs:{type:"submit"},on:{click:t.AddCount}},[i("span",[t._v("Add Count")])])])},an=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",[i("sup",{staticClass:"text-danger"},[t._v("*")]),t._v(" Enter Count")])}],sn={name:"AddCertCount",props:["id"],data:function(){return{count:null}},validations:{count:{required:it["required"]}},methods:{AddCount:function(){var t=this;this.$v.$touch(),this.$v.$invalid||this.$store.dispatch("certcount_state/AddCount",{count:this.count,id:this.id}).then((function(){t.$emit("Inserted")})).catch((function(t){console.log(t)}))}}},nn=sn,rn=Object(f["a"])(nn,en,an,!1,null,null,null),on=rn.exports,cn={name:"CertificateCount",props:{id:String},components:{CertCount:tn,AddCertCount:on},computed:Object(l["a"])({},Object(v["c"])("user_state",["user","Authorization"])),methods:{RefreshHistory:function(){this.$bvModal.hide("modal-1"),this.$refs.h1.page(1)}},data:function(){return{Display:!0,Add:!0}}},ln=cn,un=Object(f["a"])(ln,Ws,Js,!1,null,null,null),dn=un.exports,hn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("b-modal",{attrs:{"no-close-on-backdrop":"",id:"modal-2","hide-footer":"",centered:"",title:"Update User Limit"}},[i("UserLimit",{attrs:{id:t.id,userlimit:t.org.user_limit,enrolled_count:t.users.totalcount},on:{done:t.CloseUL}})],1),i("b-modal",{attrs:{"no-close-on-backdrop":"",id:"modal-1","hide-footer":"",centered:"",title:0==t.users.list.length?"Register Admin":"Register Issuer"}},[i("UserRegisteration",{attrs:{id:t.id,ULimit:t.org.user_limit==t.users.totalcount&&0==t.Authorization.SuperAdmin||t.org.user_limit==t.users.totalcount&&t.id},on:{done:t.CloseReg}})],1),i("div",{staticClass:"row shadow justify-content-between p-3"},[i("div",{staticClass:"col d-flex"},[t.Authorization.SuperAdmin&&t.id?i("b-icon",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-2",modifiers:{"modal-2":!0}}],staticClass:"align-self-center",staticStyle:{cursor:"pointer"},attrs:{"font-scale":"1.5",variant:"wb",icon:"pencil-square",id:"a1"}}):t._e(),t.Authorization.SuperAdmin&&!t.id?i("span",{staticClass:"ml-2 align-self-center text-wb"},[t._v(" User Count: "+t._s(t.users.totalcount||0)+" ")]):i("span",{staticClass:"ml-2 align-self-center text-wb"},[t._v("User Limit: "+t._s(t.users.totalcount||0)+"/"+t._s(t.org.user_limit))])],1),t._m(0),i("div",{staticClass:"col d-flex justify-content-end"},[i("b-icon",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],staticClass:"float-right",staticStyle:{cursor:"pointer"},attrs:{"font-scale":"2",icon:"plus-square-fill",variant:"wb",id:"a1"}}),i("b-tooltip",{attrs:{target:"a1",triggers:"hover"}},[t._v(" Register new user ")])],1)]),i("users",{ref:"u1",staticClass:"mt-5",attrs:{id:t.id}})],1)},mn=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col"},[i("h3",{staticClass:"d-inline-block text-wb"},[t._v("Users")])])}],fn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"shadow p-2"},[i("confirmbox",{ref:"c1",on:{yes:t.ChangeStatus,cancel:t.CancelChangeStatus}}),i("b-overlay",{attrs:{show:t.loading,rounded:"sm"},scopedSlots:t._u([{key:"overlay",fn:function(){return[i("div",{staticClass:"text-center"},[i("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Large Spinner"}}),i("p",{attrs:{id:"cancel-label"}},[t._v(t._s(t.loading_text))])],1)]},proxy:!0}])},[i("b-table",{attrs:{white:"",hover:"","sticky-header":"500px",responsive:"","no-border-collapse":"",items:t.users.list,fields:t.fields},scopedSlots:t._u([{key:"cell(register_date)",fn:function(e){return[i("p",[t._v(t._s(new Date(e.value).toLocaleDateString()))])]}},{key:"cell(roles)",fn:function(e){return t._l(e.item.roles,(function(e){return i("p",{key:e},[t._v(t._s(e))])}))}},{key:"cell(Actions)",fn:function(e){return[i("div",{staticClass:"row"},[i("div",{staticClass:"col",attrs:{id:e.index+"t"}},[i("b-form-checkbox",{attrs:{switch:"",disabled:!t.id&&t.IsDisabled(e.item.roles)},on:{change:function(i){return t.ConfirmChangeStatus(e.item)}},model:{value:e.item.status.active,callback:function(i){t.$set(e.item.status,"active",i)},expression:"data.item.status.active"}})],1),i("b-tooltip",{attrs:{target:e.index+"t",triggers:"hover"}},[e.item.status.active?i("span",[t._v("Enabled")]):i("span",[t._v("Disabled")])])],1)]}}])}),i("b-alert",{attrs:{show:t.isempty,variant:"dark"}},[t._v("Can't find any records")]),i("div",{staticClass:"d-flex justify-content-end"},[i("b-pagination",{attrs:{"total-rows":this.users.totalcount,"per-page":5,pills:""},on:{change:t.page},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)},pn=[],gn={SuperAdmin:"SuperAdmin",Issuer:"Issuer",Admin:"Admin"};i("caad"),i("2532");function vn(t,e){for(var i=!1,a=0;a<t.length;a++)if(e.includes(t[a])){i=!0;break}return!!i}var _n={name:"Users",mixins:[Oe],props:["id"],components:{confirmbox:fi},data:function(){return{isempty:!1,fields:[{key:"register_date",sortable:!0,class:"align-middle"},{key:"name",sortable:!0,class:"align-middle"},{key:"email",sortable:!0,class:"align-middle"},{key:"roles",sortable:!0,class:"align-middle"},{key:"Actions",sortable:!0,class:"align-middle"}],currentPage:1}},computed:Object(l["a"])({},Object(v["c"])("org_state",["users"])),methods:{page:function(t){var e=this;this.show_loader("Fetching..."),this.$store.dispatch("org_state/GetOrgUsers",{pageno:t,id:this.id}).then((function(){e.Hide_loader()})).catch((function(t){e.Hide_loader(),404==t.response.status&&(e.isempty=!0),console.log(t)}))},ConfirmChangeStatus:function(t){t.status.active?this.$refs.c1.show("Are you sure you want to disable this user",t):this.$refs.c1.show("Are you sure you want to enable this user",t)},ChangeStatus:function(t){var e=this;this.$store.dispatch("user_state/ToggleUserStatus",{orgid:this.id,userid:t._id}).then((function(){})).catch((function(i){console.log(i),e.CancelChangeStatus(t)}))},CancelChangeStatus:function(t){t.status.active=!t.status.active},IsDisabled:function(t){var e=vn(t,[gn.SuperAdmin,gn.Admin]);return console.log(e),e}},created:function(){this.$store.commit("org_state/ClearUsers"),this.page(1)}},bn=_n,Cn=Object(f["a"])(bn,fn,pn,!1,null,null,null),yn=Cn.exports,wn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row justify-content-center"},[i("b-overlay",{attrs:{show:t.loading,rounded:"sm","no-wrap":""},scopedSlots:t._u([{key:"overlay",fn:function(){return[i("div",{staticClass:"text-center"},[t.spinner?i("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Large Spinner"}}):i("b-icon",{attrs:{icon:"exclamation-circle-fill","font-scale":"2",variant:"danger"}}),i("p",{attrs:{id:"cancel-label"}},[t._v(t._s(t.loading_text))])],1)]},proxy:!0}])}),i("div",{staticClass:"col"},[i("form",[i("div",{staticClass:"form-group text-left"},[t._m(0),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.user.name.$model,expression:"$v.user.name.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"Name"},domProps:{value:t.$v.user.name.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.user.name,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.$v.user.name.$error?i("sub",{staticClass:"text-danger text-left"},[t._v(" Field is required ")]):t._e()]),i("div",{staticClass:"form-group text-left"},[t._m(1),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.user.email.$model,expression:"$v.user.email.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"email","aria-describedby":"emailHelp",placeholder:"Enter email"},domProps:{value:t.$v.user.email.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.user.email,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.$v.user.email.$error&&!t.$v.user.email.required?i("sub",{staticClass:"text-danger text-left"},[t._v(" Field is required ")]):t._e(),t.$v.user.email.email?t._e():i("sub",{staticClass:"text-danger"},[t._v(" Not a valid email ")]),t.IsSearching?i("sub",[t._v(" Checking email... ")]):t._e(),t.IsAvailable?i("sub",{staticClass:"text-success"},[t._v("Email is availabel")]):t._e(),t.IsNotAvailable?i("sub",{staticClass:"text-danger"},[t._v("Email is not availabel")]):t._e()]),i("div",{staticClass:"form-group- text-left"},[t._m(2),i("div",{staticClass:"input-group mb-2"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.user.password.$model,expression:"$v.user.password.$model",modifiers:{trim:!0}}],ref:"p1",staticClass:"form-control",attrs:{type:"password",placeholder:"Password",autocomplete:"new-password"},domProps:{value:t.$v.user.password.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.user.password,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),i("div",{staticClass:"input-group-prepend"},[i("div",{staticClass:"input-group-text"},[i("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"eye-fill"},on:{mousedown:t.show_password,mouseup:t.hide_password}})],1)])]),t.$v.user.password.$error?i("sub",{staticClass:"text-danger text-left"},[t._v(" Field is required ")]):t._e()]),i("button",{staticClass:"btn btn-dark btn-block mt-5",attrs:{type:"button"},on:{click:t.submit}},[t._v(" Submit ")])])])],1)},xn=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{attrs:{for:"exampleInputEmail1"}},[i("sup",{staticClass:"text-danger"},[t._v("*")]),t._v(" Name")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{attrs:{for:"exampleInputEmail1"}},[i("sup",{staticClass:"text-danger"},[t._v("*")]),t._v("Email address")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",[i("sup",{staticClass:"text-danger"},[t._v("*")]),t._v("Password")])}],$n={data:function(){return{debounceTimeout:null,IsSearching:!1}},methods:{debounce:function(t){var e=this;this.debounceTimeout&&(this.IsSearching=!1,clearTimeout(this.debounceTimeout)),this.debounceTimeout=setTimeout((function(){e.IsSearching=!0,t()}),2e3)},cleardebounce:function(){clearTimeout(this.debounceTimeout)}}},kn={props:["id","ULimit"],mixins:[Oe,$n],name:"registeration",data:function(){return{IsAvailable:!1,IsNotAvailable:!1,pagetitle:"Register Issuer",user:{name:"",email:"",password:""}}},methods:{show_password:function(){this.$refs.p1.type="text"},hide_password:function(){this.$refs.p1.type="password"},submit:function(){var t=this;this.$v.$touch(),!this.$v.$invalid&&this.IsAvailable&&(this.show_loader("Processing..."),this.$store.dispatch("user_state/RegisterUser",{orgid:this.id,user:this.user}).then((function(){t.Hide_loader(),t.$emit("done")})).catch((function(e){t.show_error(e)})))},CheckEmail:function(){var t=this;this.$store.dispatch("user_state/CheckEmail",this.user.email).then((function(e){t.IsSearching=!1,e.IsAvailable?t.IsAvailable=!0:t.IsNotAvailable=!0})).catch((function(t){console.log(t)}))}},watch:{"user.email":function(){this.IsAvailable=!1,this.IsNotAvailable=!1,this.$v.user.email.$invalid?this.cleardebounce():this.debounce(this.CheckEmail)}},validations:{user:{name:{required:it["required"]},email:{required:it["required"],email:it["email"]},password:{required:it["required"]}}},created:function(){this.ULimit&&this.show_error("User limit reached cannot add more users")}},Sn=kn,Pn=Object(f["a"])(Sn,wn,xn,!1,null,null,null),An=Pn.exports,On=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-overlay",{attrs:{show:t.loading,rounded:"sm","no-wrap":""},scopedSlots:t._u([{key:"overlay",fn:function(){return[i("div",{staticClass:"text-center"},[t.spinner?i("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{label:"Large Spinner"}}):i("b-icon",{attrs:{icon:"exclamation-circle-fill","font-scale":"2",variant:"danger"}}),i("p",{attrs:{id:"cancel-label"}},[t._v(t._s(t.loading_text))])],1)]},proxy:!0}])}),i("form",[i("div",{staticClass:"form-group"},[i("label",[t._v("User Limit")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.count.$model,expression:"$v.count.$model"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.$v.count.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.count,"$model",e.target.value)}}}),t.$v.count.$error&&!t.$v.count.required?i("sub",{staticClass:"text-danger"},[t._v(" the field is required ")]):t.$v.count.$error&&!t.$v.count.numeric?i("sub",{staticClass:"text-danger"},[t._v(" value must be positive integer ")]):t._e(),t.$v.count.$error||t.IsMinimumLimit?t._e():i("sub",{staticClass:"text-danger"},[t._v("Error: Count should be greater then total enrolled users: "+t._s(t.enrolled_count)+" ")])])]),i("button",{staticClass:"btn btn-dark btn-block",attrs:{type:"button"},on:{click:t.submit}},[t._v(" Update ")])],1)},jn=[],En={name:"UserLimit",props:["userlimit","id","enrolled_count"],mixins:[Oe],data:function(){return{count:this.userlimit||0}},computed:{IsMinimumLimit:function(){return!(this.count<this.enrolled_count)}},methods:{submit:function(){var t=this;this.$v.$touch(),!this.$v.$invalid&&this.IsMinimumLimit&&(this.show_loader("Processing..."),this.$store.dispatch("org_state/SetUserLimit",{id:this.id,count:this.count}).then((function(){t.Hide_loader(),t.$emit("done")})).catch((function(e){t.show_error(e)})))}},validations:{count:{required:it["required"],numeric:it["numeric"]}}},Bn=En,Dn=Object(f["a"])(Bn,On,jn,!1,null,null,null),In=Dn.exports,qn={name:"UserManagement",props:["id"],components:{users:yn,UserRegisteration:An,UserLimit:In},computed:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(v["c"])("user_state",["user","Authorization"])),Object(v["c"])("org_state",["users"])),Object(v["c"])("org_state",["org"])),methods:{RegisterUser:function(){},CloseReg:function(){this.$bvModal.hide("modal-1"),this.$refs.u1.page(1)},CloseUL:function(){this.$bvModal.hide("modal-2")}}},Tn=qn,zn=Object(f["a"])(Tn,hn,mn,!1,null,null,null),Ln=zn.exports,Hn={name:"OrganizationConfig",props:["id"],components:{certcount:dn,UserManagement:Ln},computed:Object(l["a"])(Object(l["a"])({},Object(v["c"])("org_state",["org"])),Object(v["c"])("user_state",["user","Authorization"])),data:function(){return{currentpage:"certcount",Display:!1,isHovered1:!1,isHovered2:!1,isHovered3:!1}},methods:{handleHover1:function(t){this.isHovered1=t},handleHover2:function(t){this.isHovered2=t},handleHover3:function(t){this.isHovered3=t},OpenCertCount:function(){this.currentpage="certcount",this.Display=!1},OpenUser:function(){this.currentpage="UserManagement",this.Display=!1},OpenBasicInfo:function(){this.currentpage=dn}},created:function(){var t=this;this.$store.dispatch("org_state/GetOrg",this.id).then((function(){})).catch((function(){t.$router.push({name:"404"})}))}},Nn=Hn,Un=Object(f["a"])(Nn,Vs,Ms,!1,null,null,null),Rn=Un.exports,Fn=i("323e"),Gn=i.n(Fn);i("a5d8");s["default"].use(S["a"]);var Vn=[{path:"/",name:"Home",component:L},{path:"/dashboard",name:"dashboard",component:Fe,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:X},{path:"/organizations",name:"Organizations",component:Zi,meta:{requiresAuth:!0,roles:[gn.SuperAdmin]}},{path:"/verification",name:"verification",component:ze},{path:"/about",name:"About",component:function(){return i.e("about").then(i.bind(null,"f820"))}},{path:"/create",name:"Create",component:he,meta:{requiresAuth:!0}},{path:"/certificates",name:"certificates",component:Ui,meta:{requiresAuth:!0}},{path:"/forgetcertificate",name:"forgetcertificate",component:$e},{path:"/viewcertificate/:id/:batch_id?",name:"ViewCertificate",component:_a,meta:{requiresAuth:!0},props:!0},{path:"/edit/:id/:IsBatch",name:"Edit",component:$a,meta:{requiresAuth:!0},props:!0},{path:"/BatchCerts/:id",name:"BatchCerts",component:is,meta:{requiresAuth:!0},props:!0},{path:"/BatchCerts/publications/:id",name:"BCP_VIEW",component:Bs,meta:{requiresAuth:!0},props:!0},{name:"publications",path:"/publications",component:Cs,meta:{requiresAuth:!0}},{name:"RegisterOrganization",path:"/register/organization",component:Gs,meta:{requiresAuth:!0}},{name:"OrganizationConfig",path:"/organization/Config/:id",component:Rn,props:!0,meta:{requiresAuth:!0,roles:[gn.SuperAdmin]}},{name:"MyOrganizationConfig",path:"/organization/config",component:Rn,meta:{requiresAuth:!0,roles:[gn.SuperAdmin,gn.Admin]}},{name:"403",path:"/forbidden",component:da},{name:"404",path:"*",component:na}],Mn=new S["a"]({mode:"history",base:"/",routes:Vn});Mn.beforeEach((function(t,e,i){if(t.name&&Gn.a.start(),t.matched.some((function(t){return t.meta.requiresAuth}))&&!si.getters["user_state/IsLoggedIn"])return i({path:"/login"});if(t.matched.some((function(t){return t.meta.roles}))){var a=si.state.user_state.user.roles;if(!vn(a,t.meta.roles))return i({path:"/forbidden"})}i()})),Mn.afterEach((function(){Gn.a.done()}));var Wn=Mn,Jn=i("5f5b"),Yn=i("b1e0"),Kn=i("1dce"),Xn=i.n(Kn),Qn=(i("6672"),i("a139")),Zn=i.n(Qn);function tr(t,e){Ve.a.interceptors.response.use((function(t){return t}),(function(i){return 403===i.response.status&&(console.log(1),e.push("/login?session_expire=true"),t.commit("user_state/signout")),new Promise((function(t,e){e(i)}))}))}s["default"].use(Xn.a),s["default"].config.productionTip=!1,s["default"].use(Jn["a"]),s["default"].use(Yn["a"]),s["default"].use(Zn.a),si.commit("user_state/load_user"),new s["default"]({router:Wn,store:si,render:function(t){return t(k)},created:function(){tr(this.$store,this.$router)}}).$mount("#app")},6672:function(t,e,i){},"66aa":function(t,e,i){"use strict";var a=i("aa1d"),s=i.n(a);s.a},"69a8":function(t,e,i){"use strict";var a=i("e2f2"),s=i.n(a);s.a},"6bf7":function(t,e,i){"use strict";var a=i("9008"),s=i.n(a);s.a},"80ef":function(t,e,i){},"85ec":function(t,e,i){},9008:function(t,e,i){},"9b91":function(t,e,i){"use strict";var a=i("d62e"),s=i.n(a);s.a},aa1d:function(t,e,i){},afae:function(t,e,i){},bd86:function(t,e,i){},cd26:function(t,e,i){t.exports=i.p+"img/ssswees22.e1bd78e6.png"},cf45:function(t,e,i){"use strict";var a=i("538f"),s=i.n(a);s.a},d302:function(t,e,i){"use strict";var a=i("bd86"),s=i.n(a);s.a},d62e:function(t,e,i){},d73b:function(t,e,i){},d7db:function(t,e,i){},dbd3:function(t,e,i){"use strict";var a=i("f96a"),s=i.n(a);s.a},e2f2:function(t,e,i){},ec88:function(t,e,i){},efef:function(t,e,i){"use strict";var a=i("0ed4"),s=i.n(a);s.a},f96a:function(t,e,i){}});
//# sourceMappingURL=app.2d1f1dc7.js.map